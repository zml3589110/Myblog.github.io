<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>赵逸尘个人博客</title>
  
  <subtitle>记录工作生活</subtitle>
  <link href="https://zml3589110.github.io/atom.xml" rel="self"/>
  
  <link href="https://zml3589110.github.io/"/>
  <updated>2023-03-28T07:17:02.830Z</updated>
  <id>https://zml3589110.github.io/</id>
  
  <author>
    <name>ZhaoYichen</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Ubuntu使用minicom串口工具</title>
    <link href="https://zml3589110.github.io/posts/2500108762.html"/>
    <id>https://zml3589110.github.io/posts/2500108762.html</id>
    <published>2023-03-28T06:56:20.000Z</published>
    <updated>2023-03-28T07:17:02.830Z</updated>
    
    <content type="html"><![CDATA[<h1 id="linux查看usb转串口设备使用的端口号"><a href="#linux查看usb转串口设备使用的端口号" class="headerlink" title="linux查看usb转串口设备使用的端口号"></a>linux查看usb转串口设备使用的端口号</h1><p><strong>查看使用的端口号：</strong></p><img src="https://img-blog.csdnimg.cn/20210613112924873.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzY3MzYwMw==,size_16,color_FFFFFF,t_70"><p><strong>也可以输入以下命令查看：</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -l /dev/ttyUSB*</span><br></pre></td></tr></table></figure><img src="https://img-blog.csdnimg.cn/20210613114213709.png"><p><strong>可以看到有几个设备挂载。</strong></p><p>设置端口号：<br>输入</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo minicom -s</span><br></pre></td></tr></table></figure><img src="https://img-blog.csdnimg.cn/20210613113046237.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzY3MzYwMw==,size_16,color_FFFFFF,t_70"><p>运行代码：<br>完成</p><h1 id="退出方法"><a href="#退出方法" class="headerlink" title="退出方法"></a>退出方法</h1><p>1）需使用Ctrl+a 进入设置状态<br>2）按z进入设置菜单<br>（1）S键：发送文件到目标系统中；<br>（2）W键：自动卷屏。当显示的内容超过一行之後，自动将後面的内容换行。这个功能在查看内核的啓动信息时很有用。<br>（3）C键：清除屏幕的显示内容；<br>（4）B键：浏览minicom的历史显示；<br>（5）X键：退出mInicom，会提示确认退出。</p><h1 id="minicom常用指令"><a href="#minicom常用指令" class="headerlink" title="minicom常用指令"></a>minicom常用指令</h1><p>因为现在电脑基本不配备串行接口，所以，usb转串口成为硬件调试时的必然选择。目前知道的，PL2303的驱动是有的，在dev下的名称是ttyUSB#。</p><p>minicom，tkterm都是linux下应用比较广泛的串口软件，这里简单介绍minicom使用。</p><p>一，安装</p><p>debian 系，比如 ubuntu、mint等：</p><p>sudo apt-get install minicom</p><p>二，配置</p><p>首先，查看串口设备是否可用。linux下的所有操作面向用户的都是文件操作，在对串口操作之前，我们应该先确认自己对该文件有没有读写权限。</p><p>ls -l &#x2F;dev&#x2F;ttyUSB*</p><p>linux下的usb串口命名为ttyUSB，运行上面命令，可以看到有几个设备挂载。</p><p>我们这里是：</p><p>crw-rw—- 1 root dialout 188, 0 Apr 10 17:10 &#x2F;dev&#x2F;ttyUSB0</p><p>只有ttuUSB0.</p><p>但是正如上面显示，ttyUSB0这个设备是root所有的，所以，我们以普通用户身份打开minicom是没法访问该文件的。</p><p>然后，运行$ sudo minicom -s ， 设置串口。</p><p>进入minicom的配置界面，使用上下键选择Serial port setup，回车。此时光标在“change which setting”后面停留，它的上面有如下菜单：</p><p>Serial port setup [Enter]+————————————————————-+</p><p>| A – Serial Device : &#x2F;dev&#x2F;ttyUSB0 |</p><p>| B – Lockfile Location : &#x2F;var&#x2F;lock |</p><p>| C – Callin Program : |</p><p>| D – Callout Program -: |</p><p>| E – Bps&#x2F;Par&#x2F;Bits : 115200 8N1 |</p><p>| F – Hardware Flow Control : No |</p><p>| G – Software Flow Control : No |</p><p>| |</p><p>| Change which setting? |</p><p>+————————————————————-+</p><p>我们只需输入上面对应的字母，就可以进如相应的菜单进行设置。设置完成，回车，光标会回到“change which setting”后面，如此重复。完成按回车返回主菜单即可。</p><p>注意：如果不是 USB 转串口，而是直接使用串口，那么 Serial Device 要配置为 &#x2F;dev&#x2F;ttyS0(具体哪个设备，系统不同名字不同，如果你不知道，那就看你运气了)。</p><p>返回主菜单后，选择“Save setup as dfl”，将其保存为默认设置，然后选择 Exit 退出，注意，不是退出 minicom。</p><p>三，使用</p><p>如果上面设置顺利，重新给开发板上电后，此时，窗口里就有信息打印出来了。minicom基本操作如下：</p><p>1)组合键 Ctrl+a 进入设置状态；</p><p>2)按 z 打开帮助菜单，或者你用的熟练的话，直接输入菜单对应的字母即可；</p><p>(1)S键：发送文件到目标系统中；</p><p>(2)W键：自动卷屏。当显示的内容超过一行之後，自动将後面的内容换行。这个功能在查看内核的啓动信息时很有用。</p><p>(3)C键：清除屏幕的显示内容；</p><p>(4)B键：浏览minicom的历史显示；</p><p>(5)X键：退出mInicom，会提示确认退出。</p><ol start="3"><li>比如，使用 Ctrl-A–&gt;O 进入 minicom 配置菜单：</li></ol><p>+—–[configuration]——+</p><p>| Filenames and paths |</p><p>| File transfer protocols -|</p><p>| Serial port setup |</p><p>| Modem and dialing |</p><p>| Screen and keyboard |</p><p>| Save setup as dfl |</p><p>| Save setup as.. |</p><p>| Exit |</p><p>+————————–+</p><p>我们可以配置使用 Ctrl-A-S 发送文件时的默认路径，可选择”Filenames and paths”进行配置：</p><p>+———————————————————————–+</p><p>| A – Download directory : &#x2F;home&#x2F;crliu |</p><p>| B – Upload directory : &#x2F;tmp |</p><p>| C – Script directory : |</p><p>| D – Script program : runscript |</p><p>| E – Kermit program : |</p><p>| F – Logging options |</p><p>| |</p><p>| Change which setting? |</p><p>+———————————————————————–+</p><p>如上，A – download 下载文件的存放位置(开发板 —&gt; PC, rz)开发板上的文件将被传输到PC机上的&#x2F;home&#x2F;crliu目录下。</p><p>B – upload 从此处读取上传的文件(PC —&gt; 开发板, sz)PC机向开发板发送文件，需要发送的文件在&#x2F;tmp目录下(PC机上的目录)。</p><p>四，其他技巧</p><p>启动 minicom 的时候，会检测 MINICOM 环境变量，将它们作为命令参数，如果命令中指定了某个参数，那么这个 MINICOM 中的相应的某个参数会被替换。</p><p>我们在 ~&#x2F;.bashrc 文件中添加这一行，使得 minicom 默认每次都进入彩色模式，并自动进入串口配置：</p><p>export MINICOM&#x3D;’-s -c on’</p><p>The configuration 参数更有趣。通常，minicom从文件“minirc.dfl”中获取其缺省值。不过，若你给minicom一个参数，它将尝试从文件“minirc.configuration”中获取缺省值。因此，为不同端口、不同用户等创建多个配置文件是可能的。最好使用设备名，如：tty1， tty64，sio2等。如果用户创建了自己的配置文件，那么该文件将以“.minirc.dfl”为名出现在他的home目录中。</p><p>minicom的全局配置文件通常在&#x2F;etc&#x2F;minirc.dfl. minicom将其配置文件保存在一个目录中，通常是：&#x2F;var&#x2F;lib&#x2F;minicom, &#x2F;usr&#x2F;local&#x2F;etc或者&#x2F;etc。要想知道minicom编译时内定的缺省目录，可用命令“minicom -h”，在那儿你可能还会找到runscript(1) 的demo文件。</p><p>配置文件的文件名格式：minirc.user。minicom默认加载配置文件minirc.df1，但你也可以仿照minirc.df1编辑自己的配置文件minirc.user，输入minicom user启动时则加载minirc.user。如在本机上，我做了一个minirc.root，输入minicom root 启动minicom，则系统自动加载&#x2F;etc&#x2F;minirc.root中的配置。</p><p>$HOME&#x2F;.minirc.*</p><p>$HOME&#x2F;.dialdir</p><p>$HOME&#x2F;minicom.log</p><p>&#x2F;usr&#x2F;share&#x2F;locale&#x2F;*&#x2F;LC_MESSAGES&#x2F;minicom.mo</p><p>*命令行启动minicom的参数</p><p>更多的参数，参见”man minicom”的输出。</p><p>-s</p><p>设置。 root 使用此选项在&#x2F;etc&#x2F;minirc.dfl中编辑系统范围的缺省值。使用此参数后，minicom 将 不 进行初始化， 而是直接进入配置菜单。如果因为你的系统被改变，或者第一次运行minicom时，minicom不能启动，这个参数就会很有用。对于多数系统，已经内定了比较合适的缺省值。</p><p>-o</p><p>不进行初始化。minicom 将跳过初始化代码。如果你未复位(reset)就退出了minicom，又想重启一次会话(session)，那么用这个选项就比较爽(不会再有错误提示：modem is locked —- 注)。但是也有潜在的危险：由于未对lock文件等进行检查，因此一般用户可能会与uucp之类的东东发生冲突……也许以后这个参数会被去掉。现在姑且假定，使用modem的用户对自己的行为足够负责。</p><p>-m</p><p>用Meta或Alt键重载命令键。在1.80版中这是缺省值，也可以在minicom 菜单中配置这个选项。不过若你一直使用不同的终端，其中有些没有Meta或Alt键，那么方便的做法还是把缺省的命令键设置为Ctrl-A，当你有了支持 Meta或Alt键的键盘时再使用此选项。Minicom假定你的Meta键发送ESC前缀，而不是设置字符最高位的那一种(见下)。</p><p>-M</p><p>跟“-m”一样，但是假定你的Meta键设置字符高端的第八位(发送128+字符代码)。</p><p>-z</p><p>使用终端状态行。仅当终端支持，并且在其termcap或terminfo<a href="https://cloud.tencent.com/solution/database?from=10680">数据库</a>入口中有相关信息时才可用。</p><p>-l</p><p>逐字翻译 高位被置位的字符。使用此标志， minicom将不再尝试将IBM行字符翻译为ASCII码，而是将其直接传送。许多PC-Unix克隆不经翻译也能正确显示它们(Linux使用专门的模式：Coherent和Sco)。</p><p>-w</p><p>在启动的时候就自动换行，这样启动之后不用运行 w进行设置了，详细参考后面。</p><p>-a</p><p>特性使用。 有些终端，特别是televideo终端， 有个很讨厌的特性处理(串行而非并行)。minicom缺省使用‘-a on’，但若你在用这样的终端，你就可以(必须!)加上选项‘-a off’。尾字‘on’或‘off’需要加上。</p><p>-t</p><p>终端类型。使用此标志， 你可以重载环境变量TERM， 这在环境变量MINICOM 中使用很方便； 你可以创建一个专门的 termcap 入口以备minicom 在控制台上使用，它将屏幕初始化为raw模式， 这样，连同‘-l’标志一起，就可以不经翻译而显示IBM行字符。</p><p>-c</p><p>颜色使用。些终端(如Linux控制台)支持标准ANSI转义序列色彩。由于termcap显然没有对于色彩的支持，因而minicom 硬性内置了这些转义序列的代码。所以此选项缺省为off。使用‘-c on’可以打开此项。把这个标志，还有‘-m’放入MINICOM环境变量中是个不错的选择。</p><p>-S</p><p>脚本。 启动时执行给定名字的脚本。到目前为止，还不支持将用户名和口令传送给启动脚本。如果你还使用了‘-d’选项，以在启动时开始拨号，此脚本将在拨号之前运行，拨号项目入口由‘-d’指明。</p><p>-p</p><p>要使用的伪终端。 它超载配置文件中定义的终端端口，但仅当其为伪tty设备。提供的文件名必须采用这样的形式：(&#x2F;dev&#x2F;)tty[p-z][0-f]</p><p>-C</p><p>文件名。 启动时打开捕获文件。</p><p>-8</p><p>不经修改地传送8位字符。“连续”意指未对地点&#x2F;特性进行真正改变，就不插入地点&#x2F;特性控制序列。此模式用于显示8位多字节字符，比如日本字(TMD！应该是中国字!!)。不是8位字符的语言都需要(例如显示芬兰文字就不需要这个)。</p><h1 id="linux-查看所有USB端口"><a href="#linux-查看所有USB端口" class="headerlink" title="linux 查看所有USB端口"></a>linux 查看所有USB端口</h1><p>1、查看串口是否可用</p><p>可以对串口发送数据比如对com1口，echo &#x2F;dev&#x2F;ttyS0</p><p>2、查看串口名称使用</p><p>ls -l &#x2F;dev&#x2F;ttyS*</p><p>一般情况下串口的名称全部在dev下面，如果你没有外插串口卡的话默认是dev下的ttyS*,一般ttyS0对应com1，ttyS1对应com2，当然也不一定是必然的；</p><p>3、查看串口驱动</p><p>cat&#x2F;proc&#x2F;tty&#x2F;drivers&#x2F;serial</p><p>4、查看串口设备</p><p>dmesg | grep ttyS*</p><p>5、查一下板子上的串口有没有设备</p><p>grep tty&#x2F;proc&#x2F;devices</p><p>如果有ttyS设备，再看&#x2F;dev&#x2F;有没有ttyS*，如没有就建立一个：mknod &#x2F;dev&#x2F;ttyS0 c 4 64</p><p>如果板子的设备中没有标准串口设备ttyS0，也没有ttySAC0。&#x2F;dev下应该有一个USB串口：&#x2F;dev&#x2F;ttyUSB0.</p><p>当一个串行卡或数据卡被侦测到时，它会被指定成为第一个可用的串行设备。通常是&#x2F;dev&#x2F;ttyS1(cua1)或&#x2F;dev&#x2F;ttyS2(cua2)，这完成看原已内建的串口数目。ttyS*设备会被报告在&#x2F;var&#x2F;run&#x2F;stab内。</p><p>PC上的串口一般是ttyS，板子上Linux的串口一般叫做ttySAC</p><p>补充:</p><p>如果需要查看这个串口设备输出</p><p>cat ttyUSB0</p><p>如果需要对这个设备输入</p><p>echo aaaaa&gt;ttyUSB0</p><hr><h1 id="相关链接（侵删）"><a href="#相关链接（侵删）" class="headerlink" title="相关链接（侵删）"></a>相关链接（侵删）</h1><ol><li><a href="https://blog.csdn.net/weixin_43673603/article/details/117871650">linux查看usb转串口设备使用的端口号</a></li><li><a href="https://blog.csdn.net/jhyworkspace/article/details/53572284">minicom退出方法</a></li><li><a href="https://cloud.tencent.com/developer/article/2070441">minicom指令_Minicom 使用初步</a></li><li><a href="https://blog.csdn.net/weixin_34489089/article/details/116677110">linux 查看所有USB端口,linux查看所有串口和usb设备方法</a></li></ol><hr><center><font color="red">=================我是分割线=================</font></center><p><strong>欢迎到公众号来唠嗑:</strong></p><img src="https://pic4.zhimg.com/80/v2-eedc5dc7d30beedf4c2f1812df8e61a7_720w.jpg">]]></content>
    
    
    <summary type="html">Ubuntu开启Samba服务，主要是针对esp32编译环境需要软链接，之前用虚拟机共享出现Windows没有软链接功能导致异常</summary>
    
    
    
    <category term="Linux" scheme="https://zml3589110.github.io/categories/Linux/"/>
    
    <category term="minicom" scheme="https://zml3589110.github.io/categories/minicom/"/>
    
    
    <category term="Ubuntu" scheme="https://zml3589110.github.io/tags/Ubuntu/"/>
    
    <category term="串口" scheme="https://zml3589110.github.io/tags/%E4%B8%B2%E5%8F%A3/"/>
    
    <category term="minicom" scheme="https://zml3589110.github.io/tags/minicom/"/>
    
  </entry>
  
  <entry>
    <title>Ubuntu烧录下载时找不到USB0报错</title>
    <link href="https://zml3589110.github.io/posts/3713584928.html"/>
    <id>https://zml3589110.github.io/posts/3713584928.html</id>
    <published>2023-03-28T06:45:20.000Z</published>
    <updated>2023-03-28T07:17:02.839Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ESP编译好后下载时发现找不到端口"><a href="#ESP编译好后下载时发现找不到端口" class="headerlink" title="ESP编译好后下载时发现找不到端口"></a>ESP编译好后下载时发现找不到端口</h1><p>问题:<br>在linux环境，使用esp32 MDK进行烧录程序时， 当执行到</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">idf.py -p dev/ttfUSB0 flash</span><br></pre></td></tr></table></figure><p>时候报错，无法操作。</p><h2 id="原因："><a href="#原因：" class="headerlink" title="原因："></a>原因：</h2><p>只有root用户和属于dialout组的用户会有读写权限</p><h2 id="方法一："><a href="#方法一：" class="headerlink" title="方法一："></a>方法一：</h2><p>该方法重启就会失效</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo chmod -R 777 /dev/ttyUSB0</span><br></pre></td></tr></table></figure><h2 id="方法二"><a href="#方法二" class="headerlink" title="方法二"></a>方法二</h2><p>永久生效</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo usermod -aG dialout user //user替换为自己的用户名</span><br></pre></td></tr></table></figure><h2 id="reboot-x2F-x2F-必须要重启一下才会生效"><a href="#reboot-x2F-x2F-必须要重启一下才会生效" class="headerlink" title="reboot &#x2F;&#x2F;必须要重启一下才会生效"></a>reboot &#x2F;&#x2F;必须要重启一下才会生效</h2><h1 id="相关链接（侵删）"><a href="#相关链接（侵删）" class="headerlink" title="相关链接（侵删）"></a>相关链接（侵删）</h1><ol><li><a href="https://blog.csdn.net/amimax/article/details/128244634">【问题解决】ESP32报错：could not open port &#x2F;dev&#x2F;ttyUSB0: [Errno 13] Permission denied: ‘&#x2F;dev&#x2F;ttyUSB0</a></li></ol><hr><center><font color="red">=================我是分割线=================</font></center><p><strong>欢迎到公众号来唠嗑:</strong></p><img src="https://pic4.zhimg.com/80/v2-eedc5dc7d30beedf4c2f1812df8e61a7_720w.jpg">]]></content>
    
    
    <summary type="html">ESP下载程序时报错 could not open port /dev/ttyUSB0</summary>
    
    
    
    <category term="Linux" scheme="https://zml3589110.github.io/categories/Linux/"/>
    
    <category term="ESP8266" scheme="https://zml3589110.github.io/categories/ESP8266/"/>
    
    <category term="乐鑫" scheme="https://zml3589110.github.io/categories/%E4%B9%90%E9%91%AB/"/>
    
    <category term="ESP32" scheme="https://zml3589110.github.io/categories/ESP32/"/>
    
    
    <category term="Ubuntu" scheme="https://zml3589110.github.io/tags/Ubuntu/"/>
    
    <category term="乐鑫" scheme="https://zml3589110.github.io/tags/%E4%B9%90%E9%91%AB/"/>
    
    <category term="ESP8266" scheme="https://zml3589110.github.io/tags/ESP8266/"/>
    
    <category term="物联网" scheme="https://zml3589110.github.io/tags/%E7%89%A9%E8%81%94%E7%BD%91/"/>
    
    <category term="烧录" scheme="https://zml3589110.github.io/tags/%E7%83%A7%E5%BD%95/"/>
    
    <category term="USB0" scheme="https://zml3589110.github.io/tags/USB0/"/>
    
  </entry>
  
  <entry>
    <title>ESP32环境(Ubuntu) 问题集锦</title>
    <link href="https://zml3589110.github.io/posts/2527818842.html"/>
    <id>https://zml3589110.github.io/posts/2527818842.html</id>
    <published>2023-03-27T08:12:20.000Z</published>
    <updated>2023-03-27T08:45:04.354Z</updated>
    
    <content type="html"><![CDATA[<h1 id="安装好环境后报错"><a href="#安装好环境后报错" class="headerlink" title="安装好环境后报错"></a>安装好环境后报错</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fatal: 不是 git 仓库：’/home/geeloong/esp/esp-idf/.git’</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;cmake&quot;</span> must be available on the PATH to use idf.py</span><br></pre></td></tr></table></figure><p><strong>解决办法:</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br><span class="line">sudo apt install cmake</span><br></pre></td></tr></table></figure><hr><h1 id="相关链接（侵删）"><a href="#相关链接（侵删）" class="headerlink" title="相关链接（侵删）"></a>相关链接（侵删）</h1><ol><li><a href="https://blog.csdn.net/Aspiration_H/article/details/124168414">ESP32开发环境搭建，Linux，SDK，IDF，Ubuntu，乐鑫</a></li></ol><hr><center><font color="red">=================我是分割线=================</font></center><p><strong>欢迎到公众号来唠嗑:</strong></p><img src="https://pic4.zhimg.com/80/v2-eedc5dc7d30beedf4c2f1812df8e61a7_720w.jpg">]]></content>
    
    
    <summary type="html">Ubuntu下搭建ESP32开发环境时遇到的问题收集</summary>
    
    
    
    <category term="Linux" scheme="https://zml3589110.github.io/categories/Linux/"/>
    
    <category term="文件共享" scheme="https://zml3589110.github.io/categories/%E6%96%87%E4%BB%B6%E5%85%B1%E4%BA%AB/"/>
    
    <category term="乐鑫" scheme="https://zml3589110.github.io/categories/%E4%B9%90%E9%91%AB/"/>
    
    <category term="ESP32" scheme="https://zml3589110.github.io/categories/ESP32/"/>
    
    
    <category term="Ubuntu" scheme="https://zml3589110.github.io/tags/Ubuntu/"/>
    
    <category term="乐鑫" scheme="https://zml3589110.github.io/tags/%E4%B9%90%E9%91%AB/"/>
    
    <category term="物联网" scheme="https://zml3589110.github.io/tags/%E7%89%A9%E8%81%94%E7%BD%91/"/>
    
    <category term="ESP32" scheme="https://zml3589110.github.io/tags/ESP32/"/>
    
    <category term="SDK-IDF" scheme="https://zml3589110.github.io/tags/SDK-IDF/"/>
    
    <category term="开发环境" scheme="https://zml3589110.github.io/tags/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/"/>
    
    <category term="安装问题" scheme="https://zml3589110.github.io/tags/%E5%AE%89%E8%A3%85%E9%97%AE%E9%A2%98/"/>
    
  </entry>
  
  <entry>
    <title>通过HOMEKIT让ESP8266控制继电器</title>
    <link href="https://zml3589110.github.io/posts/442091668.html"/>
    <id>https://zml3589110.github.io/posts/442091668.html</id>
    <published>2023-03-25T08:13:20.000Z</published>
    <updated>2023-03-27T00:14:26.618Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ESP8266控制继电器（支持HOMEKIT，无需homebridge，可用SIRI控制）"><a href="#ESP8266控制继电器（支持HOMEKIT，无需homebridge，可用SIRI控制）" class="headerlink" title="ESP8266控制继电器（支持HOMEKIT，无需homebridge，可用SIRI控制）"></a>ESP8266控制继电器（支持HOMEKIT，无需homebridge，可用SIRI控制）</h1><p><strong>首先感谢：</strong><br><a href="https://github.com/RavenSystem/esp-homekit-devices">https://github.com/RavenSystem/esp-homekit-devices</a><br><a href="https://github.com/Gruppio/Sonoff-Homekit">https://github.com/Gruppio/Sonoff-Homekit</a><br>主要设备：ESP8266、1路5V继电器、杜邦线若干。</p><img src="https://img-blog.csdnimg.cn/20190113140601235.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1RXVEYxOTk4,size_16,color_FFFFFF,t_70"><img src="https://img-blog.csdnimg.cn/20190113140616914.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1RXVEYxOTk4,size_16,color_FFFFFF,t_70"><img src="https://img-blog.csdnimg.cn/20190113140633662.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1RXVEYxOTk4,size_16,color_FFFFFF,t_70"><p>下面开始进入正题：</p><h2 id="开始给ESP8266刷固件"><a href="#开始给ESP8266刷固件" class="headerlink" title="开始给ESP8266刷固件"></a>开始给ESP8266刷固件</h2><p><a href="https://pan.baidu.com/s/1Xp3CvFbdh4McnkBIacfsuQ">https://pan.baidu.com/s/1Xp3CvFbdh4McnkBIacfsuQ</a> （固件自取）<br>本次采用esptool.py来刷鞋固件，所以需要给电脑安装python环境。</p><h2 id="安装esptool-py"><a href="#安装esptool-py" class="headerlink" title="安装esptool.py"></a>安装esptool.py</h2><p>pip install esptool<br>切换到python的安装路径不知道在哪的输入</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">where</span> python</span><br></pre></td></tr></table></figure><img src="https://img-blog.csdnimg.cn/20190113142401883.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1RXVEYxOTk4,size_16,color_FFFFFF,t_70"><p><strong>cd &#x2F;python路径 切换到python安装目录，在此目录下放上我们要刷写的固件</strong></p><img src="https://img-blog.csdnimg.cn/20190113142724432.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1RXVEYxOTk4,size_16,color_FFFFFF,t_70"><p>好，开始用micro-USB线将ESP8266连接到计算机（如果不识别自行安装CH340驱动）记住端口号，我的是COM3</p><img src="https://img-blog.csdnimg.cn/20190113143206883.png"><h2 id="先清空flash"><a href="#先清空flash" class="headerlink" title="先清空flash"></a>先清空flash</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">esptool.py --port COM3 erase_flash</span><br></pre></td></tr></table></figure><img src="https://img-blog.csdnimg.cn/2019011314341874.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1RXVEYxOTk4,size_16,color_FFFFFF,t_70"><h2 id="刷入固件"><a href="#刷入固件" class="headerlink" title="刷入固件"></a>刷入固件</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">esptool.py -p COM3 -b 115200 write_flash -fs 1MB -fm dout -ff 40m 0x0 rboot.bin 0x1000 blank_config.bin 0x2000 Sonoff_ON.bin</span><br></pre></td></tr></table></figure><img src="https://img-blog.csdnimg.cn/20190113143825879.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1RXVEYxOTk4,size_16,color_FFFFFF,t_70"><p>**到这里固件已经刷入完成，搜索WIFI看到名为Switch-****<strong>的SSID，连接上后进入192.168.4.1进行设置为其连接上一个可联网的WIFI。</strong></p><img src="https://img-blog.csdnimg.cn/20190113144217426.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1RXVEYxOTk4,size_16,color_FFFFFF,t_70"><p>这时打开ios的家庭APP，添加配件，选择“我没有代码或无法扫描”<strong>输入配对码：11111111</strong></p><img src="https://img-blog.csdnimg.cn/20190113144537603.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1RXVEYxOTk4,size_16,color_FFFFFF,t_70"><img src="https://img-blog.csdnimg.cn/20190113144609464.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1RXVEYxOTk4,size_16,color_FFFFFF,t_70"><h2 id="我们可以从串口信息看到正在添加HOMEKIT-客户端"><a href="#我们可以从串口信息看到正在添加HOMEKIT-客户端" class="headerlink" title="我们可以从串口信息看到正在添加HOMEKIT 客户端"></a>我们可以从串口信息看到正在添加HOMEKIT 客户端</h2><img src="https://img-blog.csdnimg.cn/20190113145119352.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1RXVEYxOTk4,size_16,color_FFFFFF,t_70"><h2 id="这时已经成功添加到家庭APP，支持SIRI控制"><a href="#这时已经成功添加到家庭APP，支持SIRI控制" class="headerlink" title="这时已经成功添加到家庭APP，支持SIRI控制"></a>这时已经成功添加到家庭APP，支持SIRI控制</h2><img src="https://img-blog.csdnimg.cn/20190113145151882.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1RXVEYxOTk4,size_16,color_FFFFFF,t_70"><p>接下来，让我们把继电器连接到ESP8266的D6 (GPIO12)口上。ESP8266接笔记本的USB口可能会供电不足导致不能控制继电器。我在这里就用充电宝做电源了。我们可以试试让siri帮你开关继电器了</p><img src="https://img-blog.csdnimg.cn/2019011314553482.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1RXVEYxOTk4,size_16,color_FFFFFF,t_70"><p>这里附上一张继电器接220V用电器的示意图</p><img src="https://img-blog.csdnimg.cn/20190113145902241.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1RXVEYxOTk4,size_16,color_FFFFFF,t_70"><hr><h1 id="相关链接（侵删）"><a href="#相关链接（侵删）" class="headerlink" title="相关链接（侵删）"></a>相关链接（侵删）</h1><ol><li><a href="https://blog.csdn.net/TWTF1998/article/details/86419559">ESP8266控制继电器（支持HOMEKIT）</a></li></ol><hr><center><font color="red">=================我是分割线=================</font></center><p><strong>欢迎到公众号来唠嗑:</strong></p><img src="https://pic4.zhimg.com/80/v2-eedc5dc7d30beedf4c2f1812df8e61a7_720w.jpg">]]></content>
    
    
    <summary type="html">通过HOMEKIT让ESP8266控制继电器，通过esptool下载程序</summary>
    
    
    
    <category term="Linux" scheme="https://zml3589110.github.io/categories/Linux/"/>
    
    <category term="ESP8266" scheme="https://zml3589110.github.io/categories/ESP8266/"/>
    
    <category term="乐鑫" scheme="https://zml3589110.github.io/categories/%E4%B9%90%E9%91%AB/"/>
    
    
    <category term="Ubuntu" scheme="https://zml3589110.github.io/tags/Ubuntu/"/>
    
    <category term="乐鑫" scheme="https://zml3589110.github.io/tags/%E4%B9%90%E9%91%AB/"/>
    
    <category term="ESP8266" scheme="https://zml3589110.github.io/tags/ESP8266/"/>
    
    <category term="物联网" scheme="https://zml3589110.github.io/tags/%E7%89%A9%E8%81%94%E7%BD%91/"/>
    
    <category term="HOMEKIT" scheme="https://zml3589110.github.io/tags/HOMEKIT/"/>
    
    <category term="esptool.py" scheme="https://zml3589110.github.io/tags/esptool-py/"/>
    
  </entry>
  
  <entry>
    <title>C 使用 sizeof 判断数组大小报错</title>
    <link href="https://zml3589110.github.io/posts/2501953460.html"/>
    <id>https://zml3589110.github.io/posts/2501953460.html</id>
    <published>2023-03-03T02:57:20.000Z</published>
    <updated>2023-03-27T00:14:26.598Z</updated>
    
    <content type="html"><![CDATA[<h1 id="extern关联数组"><a href="#extern关联数组" class="headerlink" title="extern关联数组"></a>extern关联数组</h1><p>在写代码时，我想用extern来关联一个数组，然后利用sizeof计算数组的大小，代码如下：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="keyword">extern</span> <span class="keyword">char</span> a[];</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> b size=(sizeof(a)/sizeof(a[0]))</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>编译报错：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">invalid application of `<span class="keyword">sizeof</span><span class="number">&#x27;</span> to incomplete type `<span class="keyword">char</span>[] &#x27;</span><br></pre></td></tr></table></figure><p>主要原因是sizeof不能用在extern变量：<br>sizeof 的计算是在代码编译的时刻。<br>而extern是在链接的时刻。<br>所以 sizeof 在计算时，并不知道这个extern修饰的符号到底占用了多少空间。</p><p>解决办法：</p><p>1.把sizeof()和数组写到一个文件中</p><p>2.不用宏定义b，而是在定义数组a的那个文件里定义 size&#x3D;(sizeof(a)&#x2F;sizeof(a[0]));<br>然后在其他文件中<br>extern int size;<br>extern char a[];</p><hr><h1 id="相关链接（侵删）"><a href="#相关链接（侵删）" class="headerlink" title="相关链接（侵删）"></a>相关链接（侵删）</h1><ol><li><a href="https://www.programminghunter.com/article/53431378866/#:~:text=invalid%20application%20of%20%60%20sizeof%27%20to%20incomplete,type%20%60char%20%5B%5D%20%27%20%E4%B8%BB%E8%A6%81%E5%8E%9F%E5%9B%A0%E6%98%AFsizeof%E4%B8%8D%E8%83%BD%E7%94%A8%E5%9C%A8extern%E5%8F%98%E9%87%8F%EF%BC%9A%20sizeof%20%E7%9A%84%E8%AE%A1%E7%AE%97%E6%98%AF%E5%9C%A8%E4%BB%A3%E7%A0%81%E7%BC%96%E8%AF%91%E7%9A%84%E6%97%B6%E5%88%BB%E3%80%82">invalid application of <code>sizeof&#39; to incomplete type </code>char[] ‘</a></li></ol><hr><center><font color="red">=================我是分割线=================</font></center><p><strong>欢迎到公众号来唠嗑:</strong></p><img src="https://pic4.zhimg.com/80/v2-eedc5dc7d30beedf4c2f1812df8e61a7_720w.jpg">]]></content>
    
    
    <summary type="html">C 使用 sizeof 判断数组大小报错 invalid application of `sizeof&#39; to incomplete type `char[] &#39;</summary>
    
    
    
    <category term="编程类" scheme="https://zml3589110.github.io/categories/%E7%BC%96%E7%A8%8B%E7%B1%BB/"/>
    
    <category term="C" scheme="https://zml3589110.github.io/categories/%E7%BC%96%E7%A8%8B%E7%B1%BB/C/"/>
    
    <category term="关键字" scheme="https://zml3589110.github.io/categories/%E5%85%B3%E9%94%AE%E5%AD%97/"/>
    
    
    <category term="C" scheme="https://zml3589110.github.io/tags/C/"/>
    
    <category term="sizeof" scheme="https://zml3589110.github.io/tags/sizeof/"/>
    
    <category term="extern" scheme="https://zml3589110.github.io/tags/extern/"/>
    
    <category term="关键字" scheme="https://zml3589110.github.io/tags/%E5%85%B3%E9%94%AE%E5%AD%97/"/>
    
    <category term="数组" scheme="https://zml3589110.github.io/tags/%E6%95%B0%E7%BB%84/"/>
    
  </entry>
  
  <entry>
    <title>C# 程序编译时自动更新版本号方法</title>
    <link href="https://zml3589110.github.io/posts/996856330.html"/>
    <id>https://zml3589110.github.io/posts/996856330.html</id>
    <published>2023-02-23T09:02:20.000Z</published>
    <updated>2023-03-27T00:14:26.583Z</updated>
    
    <content type="html"><![CDATA[<h1 id="1-创建控制台工程AutoUpdateVersion，复制如下代码，生成exe文件"><a href="#1-创建控制台工程AutoUpdateVersion，复制如下代码，生成exe文件" class="headerlink" title="1.创建控制台工程AutoUpdateVersion，复制如下代码，生成exe文件"></a>1.创建控制台工程AutoUpdateVersion，复制如下代码，生成exe文件</h1><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line">    <span class="keyword">using</span> System.IO;</span><br><span class="line"><span class="comment">//by txwtech</span></span><br><span class="line">    <span class="keyword">namespace</span> <span class="title">AutoUpdateVersion</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">UpdateVersion</span>(<span class="params"><span class="keyword">ref</span> <span class="built_in">string</span> line</span>)</span></span><br><span class="line"><span class="function"></span>            &#123;</span><br><span class="line">                <span class="keyword">var</span> first = line.IndexOf(<span class="string">&#x27;&quot;&#x27;</span>);</span><br><span class="line">                <span class="keyword">var</span> second = line.LastIndexOf(<span class="string">&#x27;&quot;&#x27;</span>);</span><br><span class="line">                <span class="keyword">var</span> sVersion = line.Substring(first + <span class="number">1</span>, second - first - <span class="number">1</span>);</span><br><span class="line">                <span class="keyword">var</span> arrVersion = sVersion.Split(<span class="string">&#x27;.&#x27;</span>);</span><br><span class="line">                <span class="keyword">if</span> (arrVersion.Length &lt; <span class="number">4</span>) <span class="keyword">return</span>;</span><br><span class="line">                <span class="keyword">var</span> major = Convert.ToInt32(arrVersion[<span class="number">0</span>]);</span><br><span class="line">                <span class="keyword">var</span> minor = Convert.ToInt32(arrVersion[<span class="number">1</span>]);</span><br><span class="line">                <span class="keyword">var</span> build = Convert.ToInt32(arrVersion[<span class="number">2</span>]);</span><br><span class="line">                <span class="keyword">var</span> amendment = Convert.ToInt32(arrVersion[<span class="number">3</span>]);</span><br><span class="line">                <span class="keyword">if</span> (++amendment &gt; <span class="number">999</span>) ++build;</span><br><span class="line">                <span class="keyword">if</span> (build &gt; <span class="number">99</span>) ++minor;</span><br><span class="line">                <span class="keyword">if</span> (minor &gt; <span class="number">9</span>) ++major;</span><br><span class="line">                <span class="keyword">var</span> sNewVersion = <span class="string">$&quot;<span class="subst">&#123;major&#125;</span>.<span class="subst">&#123;minor&#125;</span>.<span class="subst">&#123;build&#125;</span>.<span class="subst">&#123;amendment&#125;</span>&quot;</span>;</span><br><span class="line">                line = line.Replace(sVersion, sNewVersion);</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;this is updateversion app&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line"><span class="function"></span>            &#123;</span><br><span class="line">                <span class="keyword">if</span> (args.Length != <span class="number">1</span> || !File.Exists(args[<span class="number">0</span>])) <span class="keyword">return</span>;</span><br><span class="line">                <span class="keyword">var</span> lines = File.ReadAllLines(args[<span class="number">0</span>]);</span><br><span class="line">                <span class="keyword">for</span> (<span class="built_in">int</span> i = lines.Length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span> (lines[i].Contains(<span class="string">&quot;assembly: AssemblyFileVersion&quot;</span>))</span><br><span class="line">                    &#123;</span><br><span class="line">                        UpdateVersion(<span class="keyword">ref</span> lines[i]);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span> (lines[i].Contains(<span class="string">&quot;assembly: AssemblyVersion&quot;</span>) &amp;&amp; !lines[i].Contains(<span class="string">&quot;*&quot;</span>))</span><br><span class="line">                    &#123;</span><br><span class="line">                        UpdateVersion(<span class="keyword">ref</span> lines[i]);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                File.WriteAllLines(args[<span class="number">0</span>], lines);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h1 id="2-拷贝文件"><a href="#2-拷贝文件" class="headerlink" title="2. 拷贝文件"></a>2. 拷贝文件</h1><img src="https://img2022.cnblogs.com/blog/1677779/202204/1677779-20220422171616543-110909714.jpg"><h1 id="3-复制到另外一个项目，需要自动更新版本号的项目"><a href="#3-复制到另外一个项目，需要自动更新版本号的项目" class="headerlink" title="3.复制到另外一个项目，需要自动更新版本号的项目"></a>3.复制到另外一个项目，需要自动更新版本号的项目</h1><img src="https://img2022.cnblogs.com/blog/1677779/202204/1677779-20220422171541867-2022955841.jpg"><h1 id="4-打开项目属性进行设置；"><a href="#4-打开项目属性进行设置；" class="headerlink" title="4. 打开项目属性进行设置；"></a>4. 打开项目属性进行设置；</h1><p>start AutoUpdateVersion $(ProjectDir)Properties\AssemblyInfo.cs</p><p>或者：</p><p>AutoUpdateVersion $(ProjectDir)Properties\AssemblyInfo.cs</p><img src="https://img2022.cnblogs.com/blog/1677779/202204/1677779-20220422171844330-228246739.jpg"><hr><h1 id="相关链接（侵删）"><a href="#相关链接（侵删）" class="headerlink" title="相关链接（侵删）"></a>相关链接（侵删）</h1><ol><li><a href="https://www.cnblogs.com/txwtech/p/16179740.html">C#程序编译时自动更新版本号方法</a></li></ol><hr><center><font color="red">=================我是分割线=================</font></center><p><strong>欢迎到公众号来唠嗑:</strong></p><img src="https://pic4.zhimg.com/80/v2-eedc5dc7d30beedf4c2f1812df8e61a7_720w.jpg">]]></content>
    
    
    <summary type="html">C# 程序编译时自动更新版本号方法</summary>
    
    
    
    <category term="编程类" scheme="https://zml3589110.github.io/categories/%E7%BC%96%E7%A8%8B%E7%B1%BB/"/>
    
    <category term="C#" scheme="https://zml3589110.github.io/categories/%E7%BC%96%E7%A8%8B%E7%B1%BB/C/"/>
    
    <category term="前端" scheme="https://zml3589110.github.io/categories/%E5%89%8D%E7%AB%AF/"/>
    
    <category term="版本号" scheme="https://zml3589110.github.io/categories/%E7%89%88%E6%9C%AC%E5%8F%B7/"/>
    
    
    <category term="C#" scheme="https://zml3589110.github.io/tags/C/"/>
    
    <category term="版本号" scheme="https://zml3589110.github.io/tags/%E7%89%88%E6%9C%AC%E5%8F%B7/"/>
    
    <category term="自动更新" scheme="https://zml3589110.github.io/tags/%E8%87%AA%E5%8A%A8%E6%9B%B4%E6%96%B0/"/>
    
  </entry>
  
  <entry>
    <title>C# 十进制与十六进制之间的转换</title>
    <link href="https://zml3589110.github.io/posts/1935384656.html"/>
    <id>https://zml3589110.github.io/posts/1935384656.html</id>
    <published>2023-02-23T08:17:20.000Z</published>
    <updated>2023-03-27T00:14:26.558Z</updated>
    
    <content type="html"><![CDATA[<h1 id="转换进制方法一"><a href="#转换进制方法一" class="headerlink" title="转换进制方法一"></a>转换进制方法一</h1><h2 id="一、十进制转换为十六进制"><a href="#一、十进制转换为十六进制" class="headerlink" title="一、十进制转换为十六进制"></a>一、十进制转换为十六进制</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">int</span> a = <span class="number">654</span>;</span><br><span class="line"><span class="built_in">string</span> A = a.ToString(<span class="string">&quot;X6&quot;</span>);</span><br></pre></td></tr></table></figure><p>上面Tostring(“X6”)是将整型a转化成16进制数；</p><p>其中：</p><p><strong>（1） “x”小写输出十六进制的的字母为小写字母，”X”大写则输出的十六进制字母为大写；</strong></p><p><strong>（2） 后面的数字6是表示自动补0补足6位；</strong></p><h2 id="二、十六进制转为十进制"><a href="#二、十六进制转为十进制" class="headerlink" title="二、十六进制转为十进制"></a>二、十六进制转为十进制</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = Convert.ToInt64(A, <span class="number">16</span>);</span><br></pre></td></tr></table></figure><p>将十六进制数A转化为整型a</p><p>其中：</p><p><strong>（1）var关键字：匿名类型，可以代替任何类型</strong></p><p><strong>（2） ToInt64(String value,Int frombase)是Convert里面的一个方法，是将制定技术的数字的字符串表示形式转换为等效的64位有符号整数，Value是需要转化的字符串，frombase是数字基数，即2，8，10，16，这里是将16进制转化，所以是16</strong></p><h1 id="将整数转换为十六进制"><a href="#将整数转换为十六进制" class="headerlink" title="将整数转换为十六进制"></a>将整数转换为十六进制</h1><p><strong>将整数转换为十六进制</strong></p><p>可以使用string.ToString()扩展方法将整数转换为十六进制。</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Integer Value: <span class="number">500</span></span><br><span class="line">Hexadecimal Value: <span class="number">1F</span>4</span><br></pre></td></tr></table></figure><p><strong>将十六进制转换为整数</strong>-</p><p>可以使用int.Parse或convert.ToInt32将十六进制值转换为整数</p><p>**int.Parse-**将数字的字符串表示形式转换为其等效的32位有符号整数。返回值指示操作是否成功。</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Hexadecimal Value: <span class="number">1F</span>4</span><br><span class="line">Integer Value: <span class="number">500</span></span><br></pre></td></tr></table></figure><p>**Convert.ToInt32-**将指定的值转换为32位带符号整数。</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Hexadecimal Value: <span class="number">1F</span>4</span><br><span class="line">Integer Value: <span class="number">500</span></span><br></pre></td></tr></table></figure><p><strong>将整数转换为十六进制</strong>-</p><p><strong>字符串hexValue &#x3D; integerValue.ToString（“ X”）;</strong></p><h2 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">namespace</span> <span class="title">DemoApplication</span>&#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Program</span>&#123;</span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">         <span class="built_in">int</span> integerValue = <span class="number">500</span>;</span><br><span class="line">         Console.WriteLine(<span class="string">$&quot;Integer Value: <span class="subst">&#123;integerValue&#125;</span>&quot;</span>);</span><br><span class="line">         <span class="built_in">string</span> hexValue = integerValue.ToString(<span class="string">&quot;X&quot;</span>);</span><br><span class="line">         Console.WriteLine(<span class="string">$&quot;Hexadecimal Value: <span class="subst">&#123;hexValue&#125;</span>&quot;</span>);</span><br><span class="line">         Console.ReadLine();</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>输出结果</p><p>上面代码的输出是</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Integer Value: <span class="number">500</span></span><br><span class="line">Hexadecimal Value: <span class="number">1F</span>4</span><br></pre></td></tr></table></figure><p><strong>将十六进制转换为整数</strong>-</p><p><strong>使用int.Parse的示例</strong>-</p><h2 id="示例-1"><a href="#示例-1" class="headerlink" title="示例"></a>示例</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">namespace</span> <span class="title">DemoApplication</span>&#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Program</span>&#123;</span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">         <span class="built_in">string</span> hexValue = <span class="string">&quot;1F4&quot;</span>;</span><br><span class="line">         Console.WriteLine(<span class="string">$&quot;Hexadecimal Value: <span class="subst">&#123;hexValue&#125;</span>&quot;</span>);</span><br><span class="line">         <span class="built_in">int</span> integerValue = <span class="built_in">int</span>.Parse(hexValue, System.Globalization.NumberStyles.HexNumber);</span><br><span class="line">         Console.WriteLine(<span class="string">$&quot;Integer Value: <span class="subst">&#123;integerValue&#125;</span>&quot;</span>);</span><br><span class="line">         Console.ReadLine();</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>输出结果</p><p>上面代码的输出是</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Hexadecimal Value: <span class="number">1F</span>4</span><br><span class="line">Integer Value: <span class="number">500</span></span><br></pre></td></tr></table></figure><p><strong>使用Convert.ToInt32的示例</strong>-</p><h2 id="示例-2"><a href="#示例-2" class="headerlink" title="示例"></a>示例</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">namespace</span> <span class="title">DemoApplication</span>&#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Program</span>&#123;</span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">         <span class="built_in">string</span> hexValue = <span class="string">&quot;1F4&quot;</span>;</span><br><span class="line">         Console.WriteLine(<span class="string">$&quot;Hexadecimal Value: <span class="subst">&#123;hexValue&#125;</span>&quot;</span>);</span><br><span class="line">         <span class="built_in">int</span> integerValue = Convert.ToInt32(hexValue, <span class="number">16</span>);</span><br><span class="line">         Console.WriteLine(<span class="string">$&quot;Integer Value: <span class="subst">&#123;integerValue&#125;</span>&quot;</span>);</span><br><span class="line">         Console.ReadLine();</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>输出结果</p><p>上面代码的输出是</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Hexadecimal Value: <span class="number">1F</span>4</span><br><span class="line">Integer Value: <span class="number">500</span></span><br></pre></td></tr></table></figure><h1 id="数据互转-16进制-amp-16进制字符串-amp-字符串"><a href="#数据互转-16进制-amp-16进制字符串-amp-字符串" class="headerlink" title="数据互转 16进制&amp;16进制字符串&amp;字符串"></a>数据互转 16进制&amp;16进制字符串&amp;字符串</h1><h2 id="1、字符串过滤-or-提取字符串"><a href="#1、字符串过滤-or-提取字符串" class="headerlink" title="1、字符串过滤 or 提取字符串"></a>1、字符串过滤 or 提取字符串</h2><p>提取字符串：在C# .net开发中 “ToString()”方法是最常见的，用于将文本转为字符串；</p><p>字符串过滤：在处理字符串数据或者hex数据时，一般都需要去掉 空格 数组标识0x 标点符号 等等字符，方便后续进一步处理；</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//将文本转为字符串</span></span><br><span class="line">&#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="built_in">string</span> str = textBox1.Text.ToString();</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment">//过滤字符串</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">string</span> pattern = <span class="string">&quot;[A-Za-z0-9]&quot;</span>;</span><br><span class="line">    <span class="built_in">string</span> strRet = <span class="string">&quot;&quot;</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">//正则匹配，只保留字母和数字</span></span><br><span class="line">    MatchCollection results = Regex.Matches(ReadString(), pattern);</span><br><span class="line">    <span class="keyword">foreach</span> (<span class="keyword">var</span> v <span class="keyword">in</span> results)</span><br><span class="line">    &#123;</span><br><span class="line">        strRet += v.ToString();</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> strRet.Replace(<span class="string">&quot;0x&quot;</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="2、字符串与16进制数组互转"><a href="#2、字符串与16进制数组互转" class="headerlink" title="2、字符串与16进制数组互转"></a>2、字符串与16进制数组互转</h2><p>从字符串转16进制数组，字符串的每一个字符就是一个byte；</p><p>可以用Encoding类的方法完成格式转换，Encoding位于System.Text命名空间下；</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//str为输入字符串</span></span><br><span class="line"><span class="built_in">byte</span>[] bytes = Encoding.Default.GetBytes(str);</span><br></pre></td></tr></table></figure><p><strong>同样的，字节数组转字符串；</strong></p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//bytes为输入字节数组</span></span><br><span class="line"><span class="built_in">string</span> str = Encoding.Default.GetString(bytes);</span><br></pre></td></tr></table></figure><h2 id="3、16进制数组与16进制字符串互转"><a href="#3、16进制数组与16进制字符串互转" class="headerlink" title="3、16进制数组与16进制字符串互转"></a>3、16进制数组与16进制字符串互转</h2><ul><li>16进制数组无法直接打印和显示（否则会出现乱码），这就需要转成对应的字符串；</li></ul><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"> </span><br><span class="line"><span class="comment">//利用for循环将16进制数组转成对应的16进制字符串</span></span><br><span class="line"><span class="comment">//如 0x7E,0x5D,0x5A =&gt; &quot;7E5D5A&quot;</span></span><br><span class="line"> </span><br><span class="line"><span class="built_in">string</span> strTemp = <span class="string">&quot;&quot;</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; bytes.Length; i++)</span><br><span class="line">&#123;</span><br><span class="line">strTemp += bytes[i].ToString(<span class="string">&quot;X2&quot;</span>);</span><br><span class="line">strTemp += <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>一般对于嵌入式硬件底层，收到的数据都是字节流，不需要转换，可以直接处理；</p><p>但是对于PC、Android等非底层驱动，拿到的数据都是字符串形式，这就需要将16进制字符串转16进制数组；</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"> </span><br><span class="line"><span class="comment">//str为过滤之后的字符串，只包含字母和数字</span></span><br><span class="line"> </span><br><span class="line"><span class="built_in">string</span> strTemp = <span class="string">&quot;&quot;</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; str.Length/<span class="number">2</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">strTemp += str.Substring(<span class="number">2</span> * i, <span class="number">2</span>);</span><br><span class="line">strTemp += <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="4、字符串与16进制字符串"><a href="#4、字符串与16进制字符串" class="headerlink" title="4、字符串与16进制字符串"></a>4、字符串与16进制字符串</h2><p>二者互转又多了一层。</p><ol><li><p>字符串转16进制字符串：先将字符串转为16进制数组，再将16进制数组转为16进制字符串；</p></li><li><p>16进制字符串转字符串：先将16进制字符串转为16进制数组，再将16进制数组转为字符串；</p></li></ol><h2 id="5、其它常见转换操作"><a href="#5、其它常见转换操作" class="headerlink" title="5、其它常见转换操作"></a>5、其它常见转换操作</h2><p><strong>5.1 字符串替换</strong><br>小节1中介绍了正则匹配来过滤字符串的方法，string类本身也有很多方法实现过滤和替换</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//去掉字符串中的控制字符</span></span><br><span class="line"><span class="built_in">string</span> str2 = str1.Replace(<span class="string">&quot; &quot;</span>, <span class="string">&quot;&quot;</span>).Replace(<span class="string">&quot;,&quot;</span>, <span class="string">&quot;&quot;</span>).Replace(<span class="string">&quot;\t&quot;</span>, <span class="string">&quot;&quot;</span>).Replace(<span class="string">&quot;\n&quot;</span>, <span class="string">&quot;&quot;</span>).Replace(<span class="string">&quot;\r&quot;</span>, <span class="string">&quot;&quot;</span>);</span><br></pre></td></tr></table></figure><p><strong>5.2 格式转换</strong></p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Encoding为编码格式转换</span></span><br><span class="line"><span class="comment">//Convert为数据格式转换</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">//常见的转换有</span></span><br><span class="line"> </span><br><span class="line">Convert.ToByte();</span><br><span class="line">Convert.ToUInt16();</span><br><span class="line">Convert.ToUInt32();</span><br><span class="line">Convert.ToUInt64();</span><br><span class="line">Convert.ToDateTime();</span><br><span class="line">Convert.ToString();</span><br><span class="line">Convert.ToBase64String();</span><br></pre></td></tr></table></figure><hr><h1 id="相关链接（侵删）"><a href="#相关链接（侵删）" class="headerlink" title="相关链接（侵删）"></a>相关链接（侵删）</h1><ol><li><a href="https://blog.csdn.net/DKDUCK/article/details/120427693">C#中十进制与十六进制之间的转换</a></li><li><a href="https://www.nhooo.com/note/qa02fr.html">如何在C#中将整数转换为十六进制，反之亦然？</a></li><li><a href="https://blog.csdn.net/weixin_38743772/article/details/128653936">C# 数据互转 16进制&amp;16进制字符串&amp;字符串</a></li></ol><hr><center><font color="red">=================我是分割线=================</font></center><p><strong>欢迎到公众号来唠嗑:</strong></p><img src="https://pic4.zhimg.com/80/v2-eedc5dc7d30beedf4c2f1812df8e61a7_720w.jpg">]]></content>
    
    
    <summary type="html">C# 十进制与十六进制之间的转换</summary>
    
    
    
    <category term="编程类" scheme="https://zml3589110.github.io/categories/%E7%BC%96%E7%A8%8B%E7%B1%BB/"/>
    
    <category term="C#" scheme="https://zml3589110.github.io/categories/%E7%BC%96%E7%A8%8B%E7%B1%BB/C/"/>
    
    <category term="前端" scheme="https://zml3589110.github.io/categories/%E5%89%8D%E7%AB%AF/"/>
    
    <category term="数据" scheme="https://zml3589110.github.io/categories/%E6%95%B0%E6%8D%AE/"/>
    
    <category term="进制转换" scheme="https://zml3589110.github.io/categories/%E8%BF%9B%E5%88%B6%E8%BD%AC%E6%8D%A2/"/>
    
    
    <category term="C#" scheme="https://zml3589110.github.io/tags/C/"/>
    
    <category term="数据" scheme="https://zml3589110.github.io/tags/%E6%95%B0%E6%8D%AE/"/>
    
    <category term="进制转换" scheme="https://zml3589110.github.io/tags/%E8%BF%9B%E5%88%B6%E8%BD%AC%E6%8D%A2/"/>
    
  </entry>
  
  <entry>
    <title>C# 获取本机IP</title>
    <link href="https://zml3589110.github.io/posts/1056828438.html"/>
    <id>https://zml3589110.github.io/posts/1056828438.html</id>
    <published>2023-02-23T07:48:20.000Z</published>
    <updated>2023-03-27T00:14:26.541Z</updated>
    
    <content type="html"><![CDATA[<h1 id="获取本机IP"><a href="#获取本机IP" class="headerlink" title="获取本机IP"></a>获取本机IP</h1><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">string</span> <span class="title">GetLocalIp</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span>获取本地的IP地址</span></span><br><span class="line">    <span class="built_in">string</span> AddressIP = <span class="built_in">string</span>.Empty;</span><br><span class="line">    <span class="keyword">foreach</span> (IPAddress _IPAddress <span class="keyword">in</span> Dns.GetHostEntry(Dns.GetHostName()).AddressList)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (_IPAddress.AddressFamily.ToString() == <span class="string">&quot;InterNetwork&quot;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            AddressIP = _IPAddress.ToString();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> AddressIP;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h1 id="相关链接（侵删）"><a href="#相关链接（侵删）" class="headerlink" title="相关链接（侵删）"></a>相关链接（侵删）</h1><ol><li><a href="https://www.cnblogs.com/txwtech/p/16201403.html">c#获取本机IP</a></li></ol><hr><center><font color="red">=================我是分割线=================</font></center><p><strong>欢迎到公众号来唠嗑:</strong></p><img src="https://pic4.zhimg.com/80/v2-eedc5dc7d30beedf4c2f1812df8e61a7_720w.jpg">]]></content>
    
    
    <summary type="html">C# 使用代码获取本地IP</summary>
    
    
    
    <category term="编程类" scheme="https://zml3589110.github.io/categories/%E7%BC%96%E7%A8%8B%E7%B1%BB/"/>
    
    <category term="C#" scheme="https://zml3589110.github.io/categories/%E7%BC%96%E7%A8%8B%E7%B1%BB/C/"/>
    
    <category term="前端" scheme="https://zml3589110.github.io/categories/%E5%89%8D%E7%AB%AF/"/>
    
    <category term="IP" scheme="https://zml3589110.github.io/categories/IP/"/>
    
    <category term="网络编程" scheme="https://zml3589110.github.io/categories/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"/>
    
    
    <category term="C#" scheme="https://zml3589110.github.io/tags/C/"/>
    
    <category term="网络" scheme="https://zml3589110.github.io/tags/%E7%BD%91%E7%BB%9C/"/>
    
    <category term="IP地址" scheme="https://zml3589110.github.io/tags/IP%E5%9C%B0%E5%9D%80/"/>
    
  </entry>
  
  <entry>
    <title>C#绘图之十八（十字光标-交叉线跟随鼠标移动）</title>
    <link href="https://zml3589110.github.io/posts/884599238.html"/>
    <id>https://zml3589110.github.io/posts/884599238.html</id>
    <published>2023-02-23T07:44:20.000Z</published>
    <updated>2023-03-27T00:14:26.708Z</updated>
    
    <content type="html"><![CDATA[<h1 id="实现方法"><a href="#实现方法" class="headerlink" title="实现方法"></a>实现方法</h1><h2 id="设置ChartAre属性："><a href="#设置ChartAre属性：" class="headerlink" title="设置ChartAre属性："></a>设置ChartAre属性：</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chart1.ChartAreas[<span class="number">0</span>].CursorX.IsUserEnabled = <span class="literal">true</span>;</span><br><span class="line">chart1.ChartAreas[<span class="number">0</span>].CursorY.IsUserEnabled = <span class="literal">true</span>;</span><br></pre></td></tr></table></figure><h2 id="对Chart添加MouseMove事件，在方法内实现如下代码："><a href="#对Chart添加MouseMove事件，在方法内实现如下代码：" class="headerlink" title="对Chart添加MouseMove事件，在方法内实现如下代码："></a>对Chart添加MouseMove事件，在方法内实现如下代码：</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">chart1_MouseMove</span>(<span class="params"><span class="built_in">object</span> sender, MouseEventArgs e</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">chart1.ChartAreas[<span class="number">0</span>].CursorX.SetCursorPixelPosition(<span class="keyword">new</span> PointF(e.X, e.Y), <span class="literal">true</span>);</span><br><span class="line">    chart1.ChartAreas[<span class="number">0</span>].CursorY.SetCursorPixelPosition(<span class="keyword">new</span> PointF(e.X, e.Y), <span class="literal">true</span>);  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h1 id="相关链接（侵删）"><a href="#相关链接（侵删）" class="headerlink" title="相关链接（侵删）"></a>相关链接（侵删）</h1><ol><li><a href="https://zhuanlan.zhihu.com/p/337384925">C# Chart 十字光标&#x2F;交叉线跟随鼠标移动</a></li></ol><hr><center><font color="red">=================我是分割线=================</font></center><p><strong>欢迎到公众号来唠嗑:</strong></p><img src="https://pic4.zhimg.com/80/v2-eedc5dc7d30beedf4c2f1812df8e61a7_720w.jpg">]]></content>
    
    
    <summary type="html">使用 C# chart 图表时十字光标-交叉线跟随鼠标移动</summary>
    
    
    
    <category term="编程类" scheme="https://zml3589110.github.io/categories/%E7%BC%96%E7%A8%8B%E7%B1%BB/"/>
    
    <category term="C#" scheme="https://zml3589110.github.io/categories/%E7%BC%96%E7%A8%8B%E7%B1%BB/C/"/>
    
    <category term="前端" scheme="https://zml3589110.github.io/categories/%E5%89%8D%E7%AB%AF/"/>
    
    <category term="绘图" scheme="https://zml3589110.github.io/categories/%E7%BB%98%E5%9B%BE/"/>
    
    
    <category term="C#" scheme="https://zml3589110.github.io/tags/C/"/>
    
    <category term="控件" scheme="https://zml3589110.github.io/tags/%E6%8E%A7%E4%BB%B6/"/>
    
    <category term="绘图" scheme="https://zml3589110.github.io/tags/%E7%BB%98%E5%9B%BE/"/>
    
    <category term="Chart" scheme="https://zml3589110.github.io/tags/Chart/"/>
    
  </entry>
  
  <entry>
    <title>C#绘图之十七（隐藏与显示某一系列曲线方法vs2019-示例）</title>
    <link href="https://zml3589110.github.io/posts/1984843230.html"/>
    <id>https://zml3589110.github.io/posts/1984843230.html</id>
    <published>2023-02-23T07:39:20.000Z</published>
    <updated>2023-03-27T00:14:26.703Z</updated>
    
    <content type="html"><![CDATA[<h1 id="图表隐藏与显示方法"><a href="#图表隐藏与显示方法" class="headerlink" title="图表隐藏与显示方法"></a>图表隐藏与显示方法</h1><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">checkBox1_CheckedChanged</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(checkBox1.Checked==<span class="literal">true</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//  chart1.Series[0].IsVisibleInLegend = true;</span></span><br><span class="line">        <span class="comment">//  chart2.Series[0].IsVisibleInLegend = true;</span></span><br><span class="line">        chart1.Series[<span class="number">0</span>].Enabled = <span class="literal">true</span>;      </span><br><span class="line">        <span class="comment">//by txwtech</span></span><br><span class="line">            </span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// chart1.Series[0].IsVisibleInLegend = false;</span></span><br><span class="line">        chart1.Series[<span class="number">0</span>].Enabled = <span class="literal">false</span>;</span><br><span class="line">        <span class="comment">// chart1.Series[0].Points.Clear();</span></span><br><span class="line">        <span class="comment">//  chart2.Series[0].IsVisibleInLegend = false;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><img src="https://img2022.cnblogs.com/blog/1677779/202204/1677779-20220429164428048-2096736696.jpg"><h1 id="完整代码示例"><a href="#完整代码示例" class="headerlink" title="完整代码示例"></a>完整代码示例</h1><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> System.ComponentModel;</span><br><span class="line"><span class="keyword">using</span> System.Data;</span><br><span class="line"><span class="keyword">using</span> System.Drawing;</span><br><span class="line"><span class="keyword">using</span> System.IO;</span><br><span class="line"><span class="keyword">using</span> System.Linq;</span><br><span class="line"><span class="keyword">using</span> System.Net;</span><br><span class="line"><span class="keyword">using</span> System.Text;</span><br><span class="line"><span class="keyword">using</span> System.Threading.Tasks;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Forms;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Forms.DataVisualization.Charting;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">draw_chart_practice</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">partial</span> <span class="keyword">class</span> <span class="title">Form1</span> : <span class="title">Form</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Form1</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            InitializeComponent();</span><br><span class="line">        &#125;</span><br><span class="line">        ToolTip toolTip = <span class="keyword">new</span> ToolTip();</span><br><span class="line">        <span class="built_in">string</span> postion11 = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="built_in">string</span>[] xx = <span class="keyword">new</span> <span class="built_in">string</span> []&#123;<span class="string">&quot;1月&quot;</span>,<span class="string">&quot;2月&quot;</span>, <span class="string">&quot;3月&quot;</span>,<span class="string">&quot;4月&quot;</span>, <span class="string">&quot;5月&quot;</span>, <span class="string">&quot;6月&quot;</span>,<span class="string">&quot;7月&quot;</span>, <span class="string">&quot;8月&quot;</span>, <span class="string">&quot;9月&quot;</span>, <span class="string">&quot;10月&quot;</span>, <span class="string">&quot;11月&quot;</span>, <span class="string">&quot;12月&quot;</span> &#125;;</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">int</span>[] yy = <span class="keyword">new</span> <span class="built_in">int</span>[] &#123; <span class="number">88</span>,<span class="number">99</span>,<span class="number">100</span>, <span class="number">88</span>, <span class="number">99</span>, <span class="number">100</span> , <span class="number">88</span>, <span class="number">99</span>, <span class="number">100</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">5</span> &#125;;</span><br><span class="line">        <span class="built_in">int</span>[] yy2 = <span class="keyword">new</span> <span class="built_in">int</span>[] &#123; <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">18</span>, <span class="number">95</span>, <span class="number">105</span>,<span class="number">2</span>,<span class="number">5</span>,<span class="number">7</span> &#125;;</span><br><span class="line">      <span class="comment">//  string[] yy3 = new string[] &#123; &quot;1月&quot;, &quot;2月&quot;, &quot;3月&quot;, &quot;4月&quot;, &quot;5月&quot;, &quot;6月&quot;, &quot;7月&quot;, &quot;8月&quot;, &quot;9月&quot;, &quot;10月&quot;, &quot;11月&quot;, &quot;12月&quot; &#125;;</span></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">modify</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">          <span class="comment">//  static void Main(string[] args)</span></span><br><span class="line">            &#123;</span><br><span class="line">                DirectoryInfo directoryInfo = <span class="keyword">new</span> DirectoryInfo(Application.StartupPath);</span><br><span class="line">                <span class="built_in">string</span> path = directoryInfo.Parent.Parent.FullName + <span class="string">@&quot;\Properties\AssemblyInfo.cs&quot;</span>; <span class="comment">//上上级目录</span></span><br><span class="line"></span><br><span class="line">             <span class="comment">//   if (args.Length != 1 || !File.Exists(args[0])) return;     </span></span><br><span class="line">                <span class="keyword">var</span> lines = File.ReadAllLines(path);</span><br><span class="line">                <span class="keyword">for</span> (<span class="built_in">int</span> i = lines.Length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span> (lines[i].Contains(<span class="string">&quot;assembly: AssemblyFileVersion&quot;</span>))</span><br><span class="line">                    &#123;</span><br><span class="line">                        UpdateVersion(<span class="keyword">ref</span> lines[i]);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span> (lines[i].Contains(<span class="string">&quot;assembly: AssemblyVersion&quot;</span>) &amp;&amp; !lines[i].Contains(<span class="string">&quot;*&quot;</span>))</span><br><span class="line">                    &#123;</span><br><span class="line">                        UpdateVersion(<span class="keyword">ref</span> lines[i]); </span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                File.WriteAllLines(path, lines); </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">AddLogInfo_IP</span>(<span class="params"><span class="built_in">string</span> log_text</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="keyword">try</span></span><br><span class="line">            &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">              <span class="comment">//  lock (Obj)</span></span><br><span class="line">                &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                    <span class="built_in">string</span> data = log_text;</span><br><span class="line"></span><br><span class="line">                    <span class="built_in">string</span> strNow, strDate;</span><br><span class="line"></span><br><span class="line">                    System.DateTime currentTime = <span class="keyword">new</span> System.DateTime();</span><br><span class="line">                    currentTime = System.DateTime.Now;</span><br><span class="line">                    strNow = currentTime.ToString();<span class="comment">//记录具体时间</span></span><br><span class="line">                    strDate = currentTime.ToString(<span class="string">&quot;yyyyMMdd&quot;</span>);</span><br><span class="line">                    strDate = <span class="string">&quot;\\\\172.17.50.89\\txw\\box_verification_ip\\&quot;</span> + strDate + <span class="string">&quot;box_verification.txt&quot;</span>; <span class="comment">//创建文件名</span></span><br><span class="line">                                                                                      <span class="comment">//  strDate = &quot;\</span></span><br><span class="line">                    <span class="keyword">if</span> (<span class="literal">true</span>)<span class="comment">//</span></span><br><span class="line">                    &#123;</span><br><span class="line">                        data = strNow + <span class="string">&quot; &quot;</span> + data + <span class="string">&quot;\r\n&quot;</span>;                      </span><br><span class="line">                        File.AppendAllText(strDate, data, Encoding.UTF8);</span><br><span class="line"></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            catch (IOException e)</span><br><span class="line">            &#123;</span><br><span class="line"></span><br><span class="line">                MessageBox.Show(<span class="string">&quot;日志记录写入错误\r\n&quot;</span> + e.StackTrace + <span class="string">&quot;\r\n&quot;</span> + e.Message);</span><br><span class="line">            &#125;</span><br><span class="line">            catch (Exception ex)</span><br><span class="line">            &#123;</span><br><span class="line">                MessageBox.Show(<span class="string">&quot;日志记录写入错误\r\n&quot;</span> + ex.StackTrace + <span class="string">&quot;\r\n&quot;</span> + ex.Message);</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">string</span> <span class="title">GetLocalIp</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="comment"><span class="doctag">///</span>获取本地的IP地址</span></span><br><span class="line">            <span class="built_in">string</span> AddressIP = <span class="built_in">string</span>.Empty;</span><br><span class="line">            <span class="keyword">foreach</span> (IPAddress _IPAddress <span class="keyword">in</span> Dns.GetHostEntry(Dns.GetHostName()).AddressList)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">//if (_IPAddress.AddressFamily.ToString() == &quot;InterNetwork&quot;)</span></span><br><span class="line">                &#123;</span><br><span class="line">                   <span class="comment">// AddressIP = _IPAddress.ToString();</span></span><br><span class="line">                &#125;</span><br><span class="line">                AddLogInfo_IP(_IPAddress.ToString());</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> AddressIP;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">button1_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="comment">//GetLocalIp();</span></span><br><span class="line">            <span class="comment">//   modify();</span></span><br><span class="line">            <span class="comment">//chart1.Series[0].Points.AddXY(1, 168);</span></span><br><span class="line">            <span class="comment">//chart1.Series[0].Points.AddXY(3, 122);</span></span><br><span class="line">            <span class="comment">//chart1.Series[0].Points.AddXY(4, 153);</span></span><br><span class="line">            <span class="comment">//chart1.Series[0].Points.AddXY(5, 172);</span></span><br><span class="line">            <span class="comment">//chart1.Series[0].Points.AddXY(6, 100);</span></span><br><span class="line">            <span class="comment">//chart1.Series[0].Points.AddXY(100, 120);</span></span><br><span class="line">            <span class="comment">//chart1.Series[1].Points.AddXY(2, 2);</span></span><br><span class="line">            <span class="comment">//chart1.Series[1].Points.AddXY(4, 6);</span></span><br><span class="line">            xx[<span class="number">0</span>] = System.DateTime.Now.ToString();</span><br><span class="line">            xx[<span class="number">1</span>] = System.DateTime.Now.ToString();</span><br><span class="line">            xx[<span class="number">2</span>] = System.DateTime.Now.ToString();</span><br><span class="line">            xx[<span class="number">3</span>] = System.DateTime.Now.ToString();</span><br><span class="line">            xx[<span class="number">4</span>] = System.DateTime.Now.ToString();</span><br><span class="line">            xx[<span class="number">5</span>] = System.DateTime.Now.ToString();</span><br><span class="line">            chart1.Series[<span class="number">0</span>].Points.DataBindXY(xx,yy);</span><br><span class="line">            chart1.Series[<span class="number">1</span>].Points.DataBindXY(xx, yy2);</span><br><span class="line">            chart2.Series[<span class="number">0</span>].Points.DataBindXY(xx, yy);</span><br><span class="line">            <span class="comment">// chart1.Series[0].Label = &quot;#VAL&quot;;//每个点的值显示</span></span><br><span class="line">            chart1.Series[<span class="number">0</span>].ToolTip = <span class="string">&quot;#VALX:#VAL&quot;</span>;</span><br><span class="line">            chart1.Series[<span class="number">1</span>].ToolTip = <span class="string">&quot;#VALX:#VAL&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (checkBox1.Checked == <span class="literal">true</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                chart1.Series[<span class="number">0</span>].IsVisibleInLegend = <span class="literal">true</span>;</span><br><span class="line">                chart1.Series[<span class="number">0</span>].Enabled = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                chart1.Series[<span class="number">0</span>].IsVisibleInLegend = <span class="literal">false</span>;</span><br><span class="line">                chart1.Series[<span class="number">0</span>].Enabled = <span class="literal">false</span>;</span><br><span class="line">              <span class="comment">//  chart1.Series[0].Points.Clear();</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (checkBox2.Checked == <span class="literal">true</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                chart1.Series[<span class="number">1</span>].IsVisibleInLegend = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                chart1.Series[<span class="number">1</span>].IsVisibleInLegend = <span class="literal">false</span>;</span><br><span class="line">                <span class="comment">//chart1.Series[1].Points.Clear();</span></span><br><span class="line">            &#125;</span><br><span class="line">            InitChart(chart1);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">UpdateVersion</span>(<span class="params"><span class="keyword">ref</span> <span class="built_in">string</span> line</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="keyword">var</span> first = line.IndexOf(<span class="string">&#x27;&quot;&#x27;</span>);</span><br><span class="line">            <span class="keyword">var</span> second = line.LastIndexOf(<span class="string">&#x27;&quot;&#x27;</span>);</span><br><span class="line">            <span class="keyword">var</span> sVersion = line.Substring(first + <span class="number">1</span>, second - first - <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">var</span> arrVersion = sVersion.Split(<span class="string">&#x27;.&#x27;</span>);</span><br><span class="line">            <span class="keyword">if</span> (arrVersion.Length &lt; <span class="number">4</span>) <span class="keyword">return</span>;</span><br><span class="line">            <span class="keyword">var</span> major = Convert.ToInt32(arrVersion[<span class="number">0</span>]);</span><br><span class="line">            <span class="keyword">var</span> minor = Convert.ToInt32(arrVersion[<span class="number">1</span>]);</span><br><span class="line">            <span class="keyword">var</span> build = Convert.ToInt32(arrVersion[<span class="number">2</span>]);</span><br><span class="line">            <span class="keyword">var</span> amendment = Convert.ToInt32(arrVersion[<span class="number">3</span>]);</span><br><span class="line">            <span class="keyword">if</span> (++amendment &gt; <span class="number">999</span>) ++build;</span><br><span class="line">            <span class="keyword">if</span> (build &gt; <span class="number">99</span>) ++minor;</span><br><span class="line">            <span class="keyword">if</span> (minor &gt; <span class="number">9</span>) ++major;</span><br><span class="line">            <span class="keyword">var</span> sNewVersion = <span class="string">$&quot;<span class="subst">&#123;major&#125;</span>.<span class="subst">&#123;minor&#125;</span>.<span class="subst">&#123;build&#125;</span>.<span class="subst">&#123;amendment&#125;</span>&quot;</span>;</span><br><span class="line">            line = line.Replace(sVersion, sNewVersion);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">       </span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">InitChart</span>(<span class="params">System.Windows.Forms.DataVisualization.Charting.Chart chart1</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            chart1.ChartAreas[<span class="number">0</span>].CursorX.Interval = <span class="number">0</span>;</span><br><span class="line">            chart1.ChartAreas[<span class="number">0</span>].CursorX.IsUserEnabled = <span class="literal">true</span>;</span><br><span class="line">            chart1.ChartAreas[<span class="number">0</span>].CursorX.IsUserSelectionEnabled = <span class="literal">true</span>;</span><br><span class="line">            chart1.MouseClick += <span class="keyword">new</span> System.Windows.Forms.MouseEventHandler(chart1_MouseClick);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">chart1_MouseMove</span>(<span class="params"><span class="built_in">object</span> sender, MouseEventArgs e</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="keyword">var</span> area = chart1.ChartAreas[<span class="number">0</span>];</span><br><span class="line">           <span class="comment">// var area = chart1.Series[0];</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">//      double xvalue = area.AxisX.PixelPositionToValue(e.X);</span></span><br><span class="line"></span><br><span class="line">          <span class="comment">//  double yvalue = area.AxisY.PixelPositionToValue(e.Y);</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// textbox1.text = string.Format(&quot;&#123;0:f0&#125;,&#123;1:f0&#125;&quot;, xvalue, yvalue);</span></span><br><span class="line">        <span class="comment">//    postion11=(string.Format(&quot;&#123;0:f0&#125;,&#123;1:f0&#125;&quot;, xvalue, yvalue));</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">chart1_MouseHover</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="keyword">var</span> area = chart1.ChartAreas[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">           <span class="comment">// double xvalue = area.AxisX.PixelPositionToValue(e.X);</span></span><br><span class="line"></span><br><span class="line">           <span class="comment">// double yvalue = area.AxisY.PixelPositionToValue(e.Y);</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// textbox1.text = string.Format(&quot;&#123;0:f0&#125;,&#123;1:f0&#125;&quot;, xvalue, yvalue);</span></span><br><span class="line">           <span class="comment">// MessageBox.Show(string.Format(&quot;&#123;0:f0&#125;,&#123;1:f0&#125;&quot;, xvalue, yvalue));</span></span><br><span class="line">          <span class="comment">//  toolTip.SetToolTip(chart1, postion11);</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//  private void chart1_Click(object sender, EventArgs e)</span></span><br><span class="line">        <span class="comment">// &#123;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">chart1_MouseClick</span>(<span class="params"><span class="built_in">object</span> sender, MouseEventArgs e</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            Chart chart1 = sender <span class="keyword">as</span> Chart;</span><br><span class="line">              </span><br><span class="line">          <span class="comment">//  string aa = chart1.Series[0].ToolTip = &quot;#VALX:#VAL&quot;;</span></span><br><span class="line">         <span class="comment">//   MessageBox.Show(aa);</span></span><br><span class="line">            <span class="keyword">if</span> (e.Button == MouseButtons.Right)</span><br><span class="line">            &#123;</span><br><span class="line">                chart1.ChartAreas[<span class="number">0</span>].AxisX.ScaleView.ZoomReset(<span class="number">0</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">checkBox1_CheckedChanged</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="keyword">if</span>(checkBox1.Checked==<span class="literal">true</span>)</span><br><span class="line">            &#123;</span><br><span class="line">              <span class="comment">//  chart1.Series[0].IsVisibleInLegend = true;</span></span><br><span class="line">              <span class="comment">//  chart2.Series[0].IsVisibleInLegend = true;</span></span><br><span class="line"></span><br><span class="line">                chart1.Series[<span class="number">0</span>].Enabled = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">                <span class="comment">//by txwtech</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">               <span class="comment">// chart1.Series[0].IsVisibleInLegend = false;</span></span><br><span class="line">                chart1.Series[<span class="number">0</span>].Enabled = <span class="literal">false</span>;</span><br><span class="line">                <span class="comment">// chart1.Series[0].Points.Clear();</span></span><br><span class="line">              <span class="comment">//  chart2.Series[0].IsVisibleInLegend = false;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">checkBox2_CheckedChanged</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="keyword">if</span> (checkBox2.Checked == <span class="literal">true</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                chart1.Series[<span class="number">1</span>].IsVisibleInLegend = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                chart1.Series[<span class="number">1</span>].IsVisibleInLegend = <span class="literal">false</span>;</span><br><span class="line">                <span class="comment">//chart1.Series[1].Points.Clear();</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h1 id="相关链接（侵删）"><a href="#相关链接（侵删）" class="headerlink" title="相关链接（侵删）"></a>相关链接（侵删）</h1><ol><li><a href="https://www.cnblogs.com/txwtech/p/16207210.html">c#ms chart图表隐藏与显示某一系列曲线方法vs2019</a></li></ol><hr><center><font color="red">=================我是分割线=================</font></center><p><strong>欢迎到公众号来唠嗑:</strong></p><img src="https://pic4.zhimg.com/80/v2-eedc5dc7d30beedf4c2f1812df8e61a7_720w.jpg">]]></content>
    
    
    <summary type="html">使用 C# chart 图表隐藏与显示某一系列曲线</summary>
    
    
    
    <category term="编程类" scheme="https://zml3589110.github.io/categories/%E7%BC%96%E7%A8%8B%E7%B1%BB/"/>
    
    <category term="C#" scheme="https://zml3589110.github.io/categories/%E7%BC%96%E7%A8%8B%E7%B1%BB/C/"/>
    
    <category term="前端" scheme="https://zml3589110.github.io/categories/%E5%89%8D%E7%AB%AF/"/>
    
    <category term="绘图" scheme="https://zml3589110.github.io/categories/%E7%BB%98%E5%9B%BE/"/>
    
    
    <category term="C#" scheme="https://zml3589110.github.io/tags/C/"/>
    
    <category term="控件" scheme="https://zml3589110.github.io/tags/%E6%8E%A7%E4%BB%B6/"/>
    
    <category term="绘图" scheme="https://zml3589110.github.io/tags/%E7%BB%98%E5%9B%BE/"/>
    
    <category term="Chart" scheme="https://zml3589110.github.io/tags/Chart/"/>
    
    <category term="图表" scheme="https://zml3589110.github.io/tags/%E5%9B%BE%E8%A1%A8/"/>
    
    <category term="显示隐藏曲线" scheme="https://zml3589110.github.io/tags/%E6%98%BE%E7%A4%BA%E9%9A%90%E8%97%8F%E6%9B%B2%E7%BA%BF/"/>
    
  </entry>
  
  <entry>
    <title>C#绘图之十六（在鼠标移动到Series上时显示节点及数据）</title>
    <link href="https://zml3589110.github.io/posts/1504952015.html"/>
    <id>https://zml3589110.github.io/posts/1504952015.html</id>
    <published>2023-02-23T07:21:20.000Z</published>
    <updated>2023-03-27T00:14:26.690Z</updated>
    
    <content type="html"><![CDATA[<h1 id="一、效果与思路"><a href="#一、效果与思路" class="headerlink" title="一、效果与思路"></a>一、效果与思路</h1><h2 id="解决方案1"><a href="#解决方案1" class="headerlink" title="解决方案1"></a>解决方案1</h2><p>用chart的mousemove时间，实时跟踪鼠标最近的X轴的位置，然后把cursorX设置到那个位置上，让用户知道我是选的那一个X的值，同时用tooltip显示该X轴上所有的Y值，结贴了谢谢大家。</p><p>至于如何显示鼠标移动到的那个series上的数据节点，可以在Mousmove时，用一个击中测试，判断。</p><p><strong>参考代码，击中测试获得点数据点的索引：</strong></p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (e.HitTestResult.ChartElementType == ChartElementType.DataPoint)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">int</span> i = e.HitTestResult.PointIndex;</span><br><span class="line">    DataPoint dp = e.HitTestResult.Series.Points[i];</span><br><span class="line">    e.Text = <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;1:F3&#125;&quot;</span>, dp.XValue, dp.YValues[<span class="number">0</span>]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="解决方案2"><a href="#解决方案2" class="headerlink" title="解决方案2"></a>解决方案2</h2><p>用的是vs的chart控件。我在页面上的chart中写的是这种方式显示tooltip的（chart1是我的chart的名字）</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">chart1.GetToolTipText += <span class="keyword">new</span> EventHandler&lt;ToolTipEventArgs&gt;(chart_GetToolTipText);</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">chart_GetToolTipText</span>(<span class="params"><span class="built_in">object</span> sender, ToolTipEventArgs e</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (e.HitTestResult.ChartElementType == ChartElementType.DataPoint)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">int</span> i = e.HitTestResult.PointIndex;</span><br><span class="line">        DataPoint dp = e.HitTestResult.Series.Points[i];</span><br><span class="line">        e.Text = <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;1:F3&#125;&quot;</span>, dp.XValue, dp.YValues[<span class="number">0</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>但是这个鼠标悬停的判断范围也好窄好窄好窄好窄，选一个点要选半天，鼠标晃来晃去都不能出现tooltip，这个根本没办法用。请问高手有没有好的方式可以让图形可以容忍一定的偏斜，就是说即使没有选到这个点，到这个点附近多少范围之类也可以出现tooltip</p><p><strong>思路：</strong><br>1、记得以前有一个软件，当你的鼠标移动到你需要指点的附近时，它就会“磁吸”到点那里去，你也可以这样，挑最近的吸过去。<br>2、如果你开发的是分析软件，而且精度要求很高的话，建议采用加粗放大方式，点击后“标点”再缩小回去。</p><blockquote><p>参考</p></blockquote><p>#VALX         &#x2F;&#x2F;x轴数据<br>#VALY         &#x2F;&#x2F;y轴数据<br>#PERCENT      &#x2F;&#x2F;百分比<br>#AVG          &#x2F;&#x2F;平均值<br>#INDEX        &#x2F;&#x2F;索引值<br>#MAX          &#x2F;&#x2F;最大值<br>#MIN          &#x2F;&#x2F;最小值<br>#TOTAL        &#x2F;&#x2F;合计<br>#LEGENDTEXT   &#x2F;&#x2F;显示Legend的text<br>#SER          &#x2F;&#x2F;显示Series名称</p><h1 id="二、参考示例"><a href="#二、参考示例" class="headerlink" title="二、参考示例"></a>二、参考示例</h1><p>ChartControl.RuntimeHitTesting属性一定要设为True。</p><p>Line Series markers的Visible一定要弄成True。CalcHitInfo的SeriesPoint一直为null，最后跑到devexpress support center上问的。<br>我的dev版本是13.1.5，设置属性的方法是Series-&gt;View-&gt;MarkerVisibility。有的 版本可能是Series -&gt; LineMarkerOptions -&gt; Visible。</p><p>我的是以曲线图Spline为例，下面就是代码。</p><h2 id="1-鼠标点击点弹出Messagebox"><a href="#1-鼠标点击点弹出Messagebox" class="headerlink" title="1.鼠标点击点弹出Messagebox"></a>1.鼠标点击点弹出Messagebox</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">chartControl4_MouseClick</span>(<span class="params"><span class="built_in">object</span> sender, MouseEventArgs e</span>) </span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line">    ChartHitInfo hitInfo = chartControl4.CalcHitInfo(e.Location); </span><br><span class="line">    <span class="keyword">if</span> (hitInfo.SeriesPoint != <span class="literal">null</span>) </span><br><span class="line">    &#123; </span><br><span class="line">        MessageBox.Show(hitInfo.SeriesPoint.Values[<span class="number">0</span>].ToString()); </span><br><span class="line">    &#125; </span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><img src="https://img-blog.csdn.net/20140328173729296?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHlqXzEz/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast"><img src="https://img-blog.csdn.net/20140328173746609?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHlqXzEz/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast"><h2 id="2-鼠标移动用ToolTipController显示值"><a href="#2-鼠标移动用ToolTipController显示值" class="headerlink" title="2.鼠标移动用ToolTipController显示值"></a>2.鼠标移动用ToolTipController显示值</h2><ul><li>外面定义</li></ul><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ToolTipController toolTipController = <span class="keyword">new</span> ToolTipController();  </span><br></pre></td></tr></table></figure><ul><li>下面是dev的源码：</li></ul><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">chartControl4_MouseMove</span>(<span class="params"><span class="built_in">object</span> sender, MouseEventArgs e</span>)  </span></span><br><span class="line"><span class="function"></span>    &#123;  </span><br><span class="line">        ChartHitInfo hitInfo = chartControl4.CalcHitInfo(e.Location);  </span><br><span class="line">        StringBuilder builder = <span class="keyword">new</span> StringBuilder();  </span><br><span class="line">        <span class="keyword">if</span> (hitInfo.InDiagram)  </span><br><span class="line">            builder.AppendLine(<span class="string">&quot;In diagram&quot;</span>);  </span><br><span class="line">        <span class="keyword">if</span> (hitInfo.InNonDefaultPane)  </span><br><span class="line">            builder.AppendLine(<span class="string">&quot;In non-default pane: &quot;</span> + hitInfo.NonDefaultPane.Name);  </span><br><span class="line">        <span class="keyword">if</span> (hitInfo.InAxis)  </span><br><span class="line">        &#123;  </span><br><span class="line">            builder.AppendLine(<span class="string">&quot;In axis: &quot;</span> + hitInfo.Axis.Name);  </span><br><span class="line">            <span class="keyword">if</span> (hitInfo.AxisLabelItem != <span class="literal">null</span>)  </span><br><span class="line">                builder.AppendLine(<span class="string">&quot;  Label item: &quot;</span> + hitInfo.AxisLabelItem.Text);  </span><br><span class="line">            <span class="keyword">if</span> (hitInfo.AxisTitle != <span class="literal">null</span>)  </span><br><span class="line">                builder.AppendLine(<span class="string">&quot;  Axis title: &quot;</span> + hitInfo.AxisTitle.Text);  </span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="keyword">if</span> (hitInfo.InChartTitle)  </span><br><span class="line">            builder.AppendLine(<span class="string">&quot;In chart title: &quot;</span> + hitInfo.ChartTitle.Text);  </span><br><span class="line">        <span class="keyword">if</span> (hitInfo.InLegend)  </span><br><span class="line">            builder.AppendLine(<span class="string">&quot;In legend&quot;</span>);  </span><br><span class="line">        <span class="keyword">if</span> (hitInfo.InSeries)  </span><br><span class="line">            builder.AppendLine(<span class="string">&quot;In series: &quot;</span> + ((Series)hitInfo.Series).Name);  </span><br><span class="line">        <span class="keyword">if</span> (hitInfo.InSeriesLabel)  </span><br><span class="line">        &#123;  </span><br><span class="line">            builder.AppendLine(<span class="string">&quot;In series label&quot;</span>);  </span><br><span class="line">            builder.AppendLine(<span class="string">&quot;  Series: &quot;</span> + ((Series)hitInfo.Series).Name);  </span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="keyword">if</span> (hitInfo.SeriesPoint != <span class="literal">null</span>)  </span><br><span class="line">        &#123;  </span><br><span class="line">            builder.AppendLine(<span class="string">&quot;  Argument: &quot;</span> + hitInfo.SeriesPoint.Argument);  </span><br><span class="line">            <span class="keyword">if</span> (!hitInfo.SeriesPoint.IsEmpty)  </span><br><span class="line">                builder.AppendLine(<span class="string">&quot;  Value: &quot;</span> + hitInfo.SeriesPoint.Values[<span class="number">0</span>]);  </span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="keyword">if</span> (builder.Length &gt; <span class="number">0</span>)  </span><br><span class="line">            toolTipController.ShowHint(<span class="string">&quot;Hit-testing results:\n&quot;</span> + builder.ToString(), chartControl4.PointToScreen(e.Location));  </span><br><span class="line">        <span class="keyword">else</span>  </span><br><span class="line">            toolTipController.HideHint();  </span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><ul><li>MouseLeave事件代码</li></ul><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">chartControl4_MouseLeave</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>) </span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line">    toolTipController.HideHint(); </span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><img src="https://img-blog.csdn.net/20140328174521500?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHlqXzEz/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast"><h2 id="3-另一种鼠标移动显示信息的方法，用CustomDrawCrosshair事件，从别人那里学习的。这种还可以显示图片。"><a href="#3-另一种鼠标移动显示信息的方法，用CustomDrawCrosshair事件，从别人那里学习的。这种还可以显示图片。" class="headerlink" title="3.另一种鼠标移动显示信息的方法，用CustomDrawCrosshair事件，从别人那里学习的。这种还可以显示图片。"></a>3.另一种鼠标移动显示信息的方法，用CustomDrawCrosshair事件，从别人那里学习的。这种还可以显示图片。</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">chartControl4_CustomDrawCrosshair</span>(<span class="params"><span class="built_in">object</span> sender, CustomDrawCrosshairEventArgs e</span>) </span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line">   </span><br><span class="line">    <span class="keyword">foreach</span> (CrosshairElement element <span class="keyword">in</span> e.CrosshairElements) </span><br><span class="line">    &#123; </span><br><span class="line">        SeriesPoint point = element.SeriesPoint; </span><br><span class="line">        element.LabelElement.MarkerImage = Image.FromFile(<span class="string">@&quot;F:\Resources\Add.png&quot;</span>);<span class="comment">// 设置图片路径 </span></span><br><span class="line">        element.LabelElement.MarkerImageSizeMode = ChartImageSizeMode.Stretch; </span><br><span class="line">        element.LabelElement.MarkerSize = <span class="keyword">new</span> Size(<span class="number">100</span>, <span class="number">100</span>); <span class="comment">// 大小 </span></span><br><span class="line">        element.LabelElement.Text = point.Values[<span class="number">0</span>].ToString();<span class="comment">//显示要显示的文字 </span></span><br><span class="line">    &#125; </span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><img src="https://img-blog.csdn.net/20140328174741250?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHlqXzEz/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast"><p>这里有devexpress用CustomDrawCrosshair事件显示点信息的Demo<a href="https://documentation.devexpress.com/#WindowsForms/customdocument3440">How to: Show a Tooltip with a Series Point’s Data</a></p><p>参考</p><p>1.<a href="http://my.csdn.net/hustaiyaya">hustaiyaya</a>， <a href="http://bbs.csdn.net/topics/390754014">winform chart控件鼠标悬停显示Y值</a>。</p><p>2.<a href="http://my.csdn.net/huang369509940">黄大仙儿</a>，<a href="http://blog.csdn.net/hyj_13/article/details/22416029">c#—devexpress chartcontrol 鼠标点击chart上的点事件，鼠标移动显示值</a>，2014-3。</p><p>\3. <a href="http://blog.csdn.net/rztyfx/article/details/45912821">c# chart 鼠标放在数据点上出现的小提示。</a></p><hr><h1 id="相关链接（侵删）"><a href="#相关链接（侵删）" class="headerlink" title="相关链接（侵删）"></a>相关链接（侵删）</h1><ol><li><a href="https://www.cnblogs.com/arxive/p/5862471.html">C# chart，有关如何在鼠标移动到Series上时显示节点及数据 （有待继续更新）</a></li></ol><hr><center><font color="red">=================我是分割线=================</font></center><p><strong>欢迎到公众号来唠嗑:</strong></p><img src="https://pic4.zhimg.com/80/v2-eedc5dc7d30beedf4c2f1812df8e61a7_720w.jpg">]]></content>
    
    
    <summary type="html">使用 C# chart 图表时在鼠标移动到Series上时显示节点及数据</summary>
    
    
    
    <category term="编程类" scheme="https://zml3589110.github.io/categories/%E7%BC%96%E7%A8%8B%E7%B1%BB/"/>
    
    <category term="C#" scheme="https://zml3589110.github.io/categories/%E7%BC%96%E7%A8%8B%E7%B1%BB/C/"/>
    
    <category term="前端" scheme="https://zml3589110.github.io/categories/%E5%89%8D%E7%AB%AF/"/>
    
    <category term="绘图" scheme="https://zml3589110.github.io/categories/%E7%BB%98%E5%9B%BE/"/>
    
    
    <category term="C#" scheme="https://zml3589110.github.io/tags/C/"/>
    
    <category term="控件" scheme="https://zml3589110.github.io/tags/%E6%8E%A7%E4%BB%B6/"/>
    
    <category term="绘图" scheme="https://zml3589110.github.io/tags/%E7%BB%98%E5%9B%BE/"/>
    
    <category term="Chart" scheme="https://zml3589110.github.io/tags/Chart/"/>
    
  </entry>
  
  <entry>
    <title>C#绘图之十五（C#实现图表中鼠标移动并显示数据-这个方法超好用）</title>
    <link href="https://zml3589110.github.io/posts/675811459.html"/>
    <id>https://zml3589110.github.io/posts/675811459.html</id>
    <published>2023-02-23T07:10:20.000Z</published>
    <updated>2023-03-27T00:14:26.674Z</updated>
    
    <content type="html"><![CDATA[<h1 id="效果图"><a href="#效果图" class="headerlink" title="效果图"></a>效果图</h1><img src="https://img.jbzj.com/file_images/article/202202/2022212134233486.jpg?2022112134243"><img src="https://img.jbzj.com/file_images/article/202202/2022212134255210.jpg?202211213433"><h1 id="实现步骤"><a href="#实现步骤" class="headerlink" title="实现步骤"></a>实现步骤</h1><h2 id="1-首先在页面上添加一个label控件并默认隐藏："><a href="#1-首先在页面上添加一个label控件并默认隐藏：" class="headerlink" title="1.首先在页面上添加一个label控件并默认隐藏："></a>1.首先在页面上添加一个label控件并默认隐藏：</h2><img src="https://img.jbzj.com/file_images/article/202202/2022212134316760.jpg?2022112134325"><h2 id="2-给该图表添加MouseMove鼠标移动事件："><a href="#2-给该图表添加MouseMove鼠标移动事件：" class="headerlink" title="2.给该图表添加MouseMove鼠标移动事件："></a>2.给该图表添加MouseMove鼠标移动事件：</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 鼠标经过时发生</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;sender&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;e&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">chart1_MouseMove</span>(<span class="params"><span class="built_in">object</span> sender, MouseEventArgs e</span>) </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   <span class="keyword">try</span></span><br><span class="line">   &#123;</span><br><span class="line">       HitTestResult Result = <span class="keyword">new</span> HitTestResult();</span><br><span class="line">       Result = chart1.HitTest(e.X, e.Y);</span><br><span class="line">       <span class="keyword">if</span> (Result.Series != <span class="literal">null</span> &amp;&amp; Result.Object != <span class="literal">null</span>)</span><br><span class="line">       &#123;</span><br><span class="line">           <span class="comment">// 获取当前焦点x轴的值</span></span><br><span class="line">           <span class="built_in">string</span> xValue = ObjectUtil.GetPropertyValue(Result.Object, <span class="string">&quot;AxisLabel&quot;</span>).ToString();</span><br><span class="line">           <span class="comment">// 获取当前焦点所属区域名称</span></span><br><span class="line">           <span class="built_in">string</span> areaName = ObjectUtil.GetPropertyValue(Result.Object, <span class="string">&quot;LegendText&quot;</span>).ToString();</span><br><span class="line">           <span class="comment">// 获取当前焦点y轴的值</span></span><br><span class="line">           <span class="built_in">double</span> yValue = Result.Series.Points[Result.PointIndex].YValues[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">           <span class="comment">// 鼠标经过时label显示</span></span><br><span class="line">           skinLabel4.Visible = <span class="literal">true</span>;</span><br><span class="line">           skinLabel4.Text = <span class="string">&quot;时间：&quot;</span>+ xValue + <span class="string">&quot;\n&quot;</span>+ areaName + <span class="string">&quot;：&quot;</span>+ yValue + <span class="string">&quot;ug/m^3&quot;</span>;</span><br><span class="line">           skinLabel4.Location = <span class="keyword">new</span> Point(e.X, e.Y - <span class="number">20</span>);</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">else</span></span><br><span class="line">       &#123;</span><br><span class="line">           <span class="comment">// 鼠标离开时label隐藏</span></span><br><span class="line">           skinLabel4.Visible = <span class="literal">false</span>;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   catch (Exception se)</span><br><span class="line">   &#123;</span><br><span class="line">       <span class="comment">// 鼠标离开时label隐藏</span></span><br><span class="line">       skinLabel4.Visible = <span class="literal">false</span>;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3-其中GetPropertyValue-获取对象中的某个属性-方法如下："><a href="#3-其中GetPropertyValue-获取对象中的某个属性-方法如下：" class="headerlink" title="3.其中GetPropertyValue() 获取对象中的某个属性 方法如下："></a>3.其中GetPropertyValue() 获取对象中的某个属性 方法如下：</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ObjectUtil</span></span><br><span class="line">&#123;</span><br><span class="line">   <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">   <span class="comment"><span class="doctag">///</span> 获取某个对象中的属性值</span></span><br><span class="line">   <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">   <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;info&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">   <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;field&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">   <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">object</span> <span class="title">GetPropertyValue</span>(<span class="params"><span class="built_in">object</span> info, <span class="built_in">string</span> field</span>)</span></span><br><span class="line"><span class="function"></span>   &#123;</span><br><span class="line">       <span class="keyword">if</span> (info == <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">       Type t = info.GetType();</span><br><span class="line">       IEnumerable&lt;System.Reflection.PropertyInfo&gt; property = <span class="keyword">from</span> pi <span class="keyword">in</span> t.GetProperties() <span class="keyword">where</span> pi.Name.ToLower() == field.ToLower() <span class="keyword">select</span> pi;</span><br><span class="line">       <span class="keyword">return</span> property.First().GetValue(info, <span class="literal">null</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="最后（以下与上述无关）图表添加数据后绑定实现提示："><a href="#最后（以下与上述无关）图表添加数据后绑定实现提示：" class="headerlink" title="最后（以下与上述无关）图表添加数据后绑定实现提示："></a>最后（以下与上述无关）图表添加数据后绑定实现提示：</h2><img src="https://img.jbzj.com/file_images/article/202202/2022212134343874.jpg?2022112134352"><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 扬尘监测、噪音监测、温度检测、湿度监测</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;_Chart&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">ChartTemperatureMethod</span>(<span class="params">Chart _Chart</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    List&lt;<span class="built_in">string</span>&gt; xData = <span class="keyword">new</span> List&lt;<span class="built_in">string</span>&gt;() &#123;<span class="string">&quot;0&quot;</span>, <span class="string">&quot;4:00&quot;</span>, <span class="string">&quot;8:00&quot;</span>, <span class="string">&quot;12:00&quot;</span>, <span class="string">&quot;16:00&quot;</span>, <span class="string">&quot;20:00&quot;</span>, <span class="string">&quot;24:00&quot;</span> &#125;;</span><br><span class="line">    List&lt;<span class="built_in">int</span>&gt; yData = <span class="keyword">new</span> List&lt;<span class="built_in">int</span>&gt;() &#123; <span class="number">0</span>,<span class="number">21</span>, <span class="number">35</span>, <span class="number">48</span>, <span class="number">40</span>, <span class="number">27</span>, <span class="number">7</span> &#125;;</span><br><span class="line">    List&lt;<span class="built_in">int</span>&gt; yData1 = <span class="keyword">new</span> List&lt;<span class="built_in">int</span>&gt;() &#123; <span class="number">0</span>,<span class="number">5</span>, <span class="number">18</span>, <span class="number">25</span>, <span class="number">68</span>, <span class="number">50</span>, <span class="number">30</span> &#125;;</span><br><span class="line">    <span class="built_in">string</span> iss = <span class="string">&quot;#VALX&quot;</span>;</span><br><span class="line">    <span class="comment">// 需要提示的信息</span></span><br><span class="line">    chart1.Series[<span class="string">&quot;Series1&quot;</span>].ToolTip = <span class="string">&quot;时间：#VALX\nPM2.5：#VALYug/m^3\tPM10：&quot;</span> + yData1[xData.IndexOf(<span class="string">&quot;#VALX&quot;</span>) + <span class="number">1</span>] + <span class="string">&quot;ug/m^3&quot;</span>;</span><br><span class="line">    <span class="comment">// 标签显示 Inside：内部，Outside：外部，Disabled：禁用</span></span><br><span class="line">    chart1.Series[<span class="string">&quot;Series1&quot;</span>][<span class="string">&quot;PieLabelStyle&quot;</span>] = <span class="string">&quot;Outside&quot;</span>;</span><br><span class="line">    chart1.Series[<span class="string">&quot;Series1&quot;</span>].Points.DataBindXY(xData, yData);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 需要提示的信息</span></span><br><span class="line">    chart1.Series[<span class="string">&quot;Series2&quot;</span>].ToolTip = <span class="string">&quot;时间：#VALX\nPM2.5：&quot;</span> + yData[xData.IndexOf(<span class="string">&quot;#VALX&quot;</span>) + <span class="number">1</span>] + <span class="string">&quot;ug/m^3\tPM10：#VALYug/m^3&quot;</span>;</span><br><span class="line">    <span class="comment">// 标签显示 Inside：内部，Outside：外部，Disabled：禁用</span></span><br><span class="line">    chart1.Series[<span class="string">&quot;Series2&quot;</span>][<span class="string">&quot;PieLabelStyle&quot;</span>] = <span class="string">&quot;Outside&quot;</span>;</span><br><span class="line">    chart1.Series[<span class="string">&quot;Series2&quot;</span>].Points.DataBindXY(xData, yData1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h1 id="相关链接（侵删）"><a href="#相关链接（侵删）" class="headerlink" title="相关链接（侵删）"></a>相关链接（侵删）</h1><ol><li><a href="https://www.jb51.net/article/237273.htm">C#实现图表中鼠标移动并显示数据</a></li></ol><hr><center><font color="red">=================我是分割线=================</font></center><p><strong>欢迎到公众号来唠嗑:</strong></p><img src="https://pic4.zhimg.com/80/v2-eedc5dc7d30beedf4c2f1812df8e61a7_720w.jpg">]]></content>
    
    
    <summary type="html">使用 C# chart 实现图表中鼠标移动并跟随显示数据</summary>
    
    
    
    <category term="编程类" scheme="https://zml3589110.github.io/categories/%E7%BC%96%E7%A8%8B%E7%B1%BB/"/>
    
    <category term="C#" scheme="https://zml3589110.github.io/categories/%E7%BC%96%E7%A8%8B%E7%B1%BB/C/"/>
    
    <category term="前端" scheme="https://zml3589110.github.io/categories/%E5%89%8D%E7%AB%AF/"/>
    
    <category term="绘图" scheme="https://zml3589110.github.io/categories/%E7%BB%98%E5%9B%BE/"/>
    
    
    <category term="C#" scheme="https://zml3589110.github.io/tags/C/"/>
    
    <category term="控件" scheme="https://zml3589110.github.io/tags/%E6%8E%A7%E4%BB%B6/"/>
    
    <category term="绘图" scheme="https://zml3589110.github.io/tags/%E7%BB%98%E5%9B%BE/"/>
    
    <category term="Chart" scheme="https://zml3589110.github.io/tags/Chart/"/>
    
    <category term="图表" scheme="https://zml3589110.github.io/tags/%E5%9B%BE%E8%A1%A8/"/>
    
    <category term="鼠标" scheme="https://zml3589110.github.io/tags/%E9%BC%A0%E6%A0%87/"/>
    
    <category term="显示数据" scheme="https://zml3589110.github.io/tags/%E6%98%BE%E7%A4%BA%E6%95%B0%E6%8D%AE/"/>
    
  </entry>
  
  <entry>
    <title>C#控件CheckedListBox之二（ListControl.SelectedValueChanged事件用法）</title>
    <link href="https://zml3589110.github.io/posts/1849315500.html"/>
    <id>https://zml3589110.github.io/posts/1849315500.html</id>
    <published>2023-02-23T07:01:20.000Z</published>
    <updated>2023-03-27T00:14:26.663Z</updated>
    
    <content type="html"><![CDATA[<p><strong>可以参看类</strong><a href="https://vimsky.com/examples/detail/csharp-class-system.windows.forms.listcontrol.html"><code>System.Windows.Forms.ListControl</code></a>的用法示例</p><h1 id="示例1-ListBox"><a href="#示例1-ListBox" class="headerlink" title="示例1: ListBox"></a>示例1: ListBox</h1><p><strong>主要是使用到了 ListBox1_SelectedValueChanged 事件</strong></p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//引入命名空间</span></span><br><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Forms;</span><br><span class="line"><span class="keyword">using</span> System.Drawing;</span><br><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">MyListControlSample</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ListBoxSample3</span> : <span class="title">Form</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">private</span> ListBox ListBox1 = <span class="keyword">new</span> ListBox();</span><br><span class="line">        <span class="keyword">private</span> Label label1 = <span class="keyword">new</span> Label();</span><br><span class="line">        <span class="keyword">private</span> TextBox textBox1 = <span class="keyword">new</span> TextBox();</span><br><span class="line"></span><br><span class="line">        [<span class="meta">STAThread</span>]</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            Application.Run(<span class="keyword">new</span> ListBoxSample3());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">ListBoxSample3</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="keyword">this</span>.ClientSize = <span class="keyword">new</span> Size(<span class="number">307</span>, <span class="number">206</span>);</span><br><span class="line">            <span class="keyword">this</span>.Text = <span class="string">&quot;ListBox Sample3&quot;</span>;</span><br><span class="line"></span><br><span class="line">            ListBox1.Location = <span class="keyword">new</span> Point(<span class="number">54</span>, <span class="number">16</span>);</span><br><span class="line">            ListBox1.Name = <span class="string">&quot;ListBox1&quot;</span>;</span><br><span class="line">            ListBox1.Size = <span class="keyword">new</span> Size(<span class="number">240</span>, <span class="number">130</span>);</span><br><span class="line"></span><br><span class="line">            label1.Location = <span class="keyword">new</span> Point(<span class="number">14</span>, <span class="number">150</span>);</span><br><span class="line">            label1.Name = <span class="string">&quot;label1&quot;</span>;</span><br><span class="line">            label1.Size = <span class="keyword">new</span> Size(<span class="number">40</span>, <span class="number">24</span>);</span><br><span class="line">            label1.Text = <span class="string">&quot;Value&quot;</span>;</span><br><span class="line"></span><br><span class="line">            textBox1.Location = <span class="keyword">new</span> Point(<span class="number">54</span>, <span class="number">150</span>);</span><br><span class="line">            textBox1.Name = <span class="string">&quot;textBox1&quot;</span>;</span><br><span class="line">            textBox1.Size = <span class="keyword">new</span> Size(<span class="number">240</span>, <span class="number">24</span>);</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">this</span>.Controls.AddRange(<span class="keyword">new</span> Control[] &#123; ListBox1, label1, textBox1 &#125;);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// Populate the list box using an array as DataSource.</span></span><br><span class="line">            ArrayList USStates = <span class="keyword">new</span> ArrayList();</span><br><span class="line">            USStates.Add(<span class="keyword">new</span> USState(<span class="string">&quot;Alabama&quot;</span>, <span class="string">&quot;AL&quot;</span>));</span><br><span class="line">            USStates.Add(<span class="keyword">new</span> USState(<span class="string">&quot;Washington&quot;</span>, <span class="string">&quot;WA&quot;</span>));</span><br><span class="line">            USStates.Add(<span class="keyword">new</span> USState(<span class="string">&quot;West Virginia&quot;</span>, <span class="string">&quot;WV&quot;</span>));</span><br><span class="line">            USStates.Add(<span class="keyword">new</span> USState(<span class="string">&quot;Wisconsin&quot;</span>, <span class="string">&quot;WI&quot;</span>));</span><br><span class="line">            USStates.Add(<span class="keyword">new</span> USState(<span class="string">&quot;Wyoming&quot;</span>, <span class="string">&quot;WY&quot;</span>));</span><br><span class="line">            ListBox1.DataSource = USStates;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// Set the long name as the property to be displayed and the short</span></span><br><span class="line">            <span class="comment">// name as the value to be returned when a row is selected.  Here</span></span><br><span class="line">            <span class="comment">// these are properties; if we were binding to a database table or</span></span><br><span class="line">            <span class="comment">// query these could be column names.</span></span><br><span class="line">            ListBox1.DisplayMember = <span class="string">&quot;LongName&quot;</span>;</span><br><span class="line">            ListBox1.ValueMember = <span class="string">&quot;ShortName&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// Bind the SelectedValueChanged event to our handler for it.</span></span><br><span class="line">            ListBox1.SelectedValueChanged += </span><br><span class="line">                <span class="keyword">new</span> EventHandler(ListBox1_SelectedValueChanged);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// Ensure the form opens with no rows selected.</span></span><br><span class="line">            ListBox1.ClearSelected();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">InitializeComponent</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">ListBox1_SelectedValueChanged</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="keyword">if</span> (ListBox1.SelectedIndex != <span class="number">-1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                textBox1.Text = ListBox1.SelectedValue.ToString();</span><br><span class="line">                <span class="comment">// If we also wanted to get the displayed text we could use</span></span><br><span class="line">                <span class="comment">// the SelectedItem item property:</span></span><br><span class="line">                <span class="comment">// string s = ((USState)ListBox1.SelectedItem).LongName;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">USState</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="built_in">string</span> myShortName;</span><br><span class="line">        <span class="keyword">private</span> <span class="built_in">string</span> myLongName;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">USState</span>(<span class="params"><span class="built_in">string</span> strLongName, <span class="built_in">string</span> strShortName</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.myShortName = strShortName;</span><br><span class="line">            <span class="keyword">this</span>.myLongName = strLongName;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> ShortName</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">get</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> myShortName;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> LongName</span><br><span class="line">        &#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">get</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> myLongName;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="示例1-ListBoxSample3"><a href="#示例1-ListBoxSample3" class="headerlink" title="示例1: ListBoxSample3"></a>示例1: ListBoxSample3</h1><p><strong>ListControl类属于System.Windows.Forms命名空间，在下文中一共展示了ListControl类的1个代码示例</strong></p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//引入命名空间</span></span><br><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Forms;</span><br><span class="line"><span class="keyword">using</span> System.Drawing;</span><br><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">MyListControlSample</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ListBoxSample3</span> : <span class="title">Form</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">private</span> ListBox ListBox1 = <span class="keyword">new</span> ListBox();</span><br><span class="line">        <span class="keyword">private</span> Label label1 = <span class="keyword">new</span> Label();</span><br><span class="line">        <span class="keyword">private</span> TextBox textBox1 = <span class="keyword">new</span> TextBox();</span><br><span class="line"></span><br><span class="line">        [<span class="meta">STAThread</span>]</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            Application.Run(<span class="keyword">new</span> ListBoxSample3());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">ListBoxSample3</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="keyword">this</span>.ClientSize = <span class="keyword">new</span> Size(<span class="number">307</span>, <span class="number">206</span>);</span><br><span class="line">            <span class="keyword">this</span>.Text = <span class="string">&quot;ListBox Sample3&quot;</span>;</span><br><span class="line"></span><br><span class="line">            ListBox1.Location = <span class="keyword">new</span> Point(<span class="number">54</span>, <span class="number">16</span>);</span><br><span class="line">            ListBox1.Name = <span class="string">&quot;ListBox1&quot;</span>;</span><br><span class="line">            ListBox1.Size = <span class="keyword">new</span> Size(<span class="number">240</span>, <span class="number">130</span>);</span><br><span class="line"></span><br><span class="line">            label1.Location = <span class="keyword">new</span> Point(<span class="number">14</span>, <span class="number">150</span>);</span><br><span class="line">            label1.Name = <span class="string">&quot;label1&quot;</span>;</span><br><span class="line">            label1.Size = <span class="keyword">new</span> Size(<span class="number">40</span>, <span class="number">24</span>);</span><br><span class="line">            label1.Text = <span class="string">&quot;Value&quot;</span>;</span><br><span class="line"></span><br><span class="line">            textBox1.Location = <span class="keyword">new</span> Point(<span class="number">54</span>, <span class="number">150</span>);</span><br><span class="line">            textBox1.Name = <span class="string">&quot;textBox1&quot;</span>;</span><br><span class="line">            textBox1.Size = <span class="keyword">new</span> Size(<span class="number">240</span>, <span class="number">24</span>);</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">this</span>.Controls.AddRange(<span class="keyword">new</span> Control[] &#123; ListBox1, label1, textBox1 &#125;);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// Populate the list box using an array as DataSource.</span></span><br><span class="line">            ArrayList USStates = <span class="keyword">new</span> ArrayList();</span><br><span class="line">            USStates.Add(<span class="keyword">new</span> USState(<span class="string">&quot;Alabama&quot;</span>, <span class="string">&quot;AL&quot;</span>));</span><br><span class="line">            USStates.Add(<span class="keyword">new</span> USState(<span class="string">&quot;Washington&quot;</span>, <span class="string">&quot;WA&quot;</span>));</span><br><span class="line">            USStates.Add(<span class="keyword">new</span> USState(<span class="string">&quot;West Virginia&quot;</span>, <span class="string">&quot;WV&quot;</span>));</span><br><span class="line">            USStates.Add(<span class="keyword">new</span> USState(<span class="string">&quot;Wisconsin&quot;</span>, <span class="string">&quot;WI&quot;</span>));</span><br><span class="line">            USStates.Add(<span class="keyword">new</span> USState(<span class="string">&quot;Wyoming&quot;</span>, <span class="string">&quot;WY&quot;</span>));</span><br><span class="line">            ListBox1.DataSource = USStates;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// Set the long name as the property to be displayed and the short</span></span><br><span class="line">            <span class="comment">// name as the value to be returned when a row is selected.  Here</span></span><br><span class="line">            <span class="comment">// these are properties; if we were binding to a database table or</span></span><br><span class="line">            <span class="comment">// query these could be column names.</span></span><br><span class="line">            ListBox1.DisplayMember = <span class="string">&quot;LongName&quot;</span>;</span><br><span class="line">            ListBox1.ValueMember = <span class="string">&quot;ShortName&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// Bind the SelectedValueChanged event to our handler for it.</span></span><br><span class="line">            ListBox1.SelectedValueChanged += </span><br><span class="line">                <span class="keyword">new</span> EventHandler(ListBox1_SelectedValueChanged);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// Ensure the form opens with no rows selected.</span></span><br><span class="line">            ListBox1.ClearSelected();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">InitializeComponent</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">ListBox1_SelectedValueChanged</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="keyword">if</span> (ListBox1.SelectedIndex != <span class="number">-1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                textBox1.Text = ListBox1.SelectedValue.ToString();</span><br><span class="line">                <span class="comment">// If we also wanted to get the displayed text we could use</span></span><br><span class="line">                <span class="comment">// the SelectedItem item property:</span></span><br><span class="line">                <span class="comment">// string s = ((USState)ListBox1.SelectedItem).LongName;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">USState</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="built_in">string</span> myShortName;</span><br><span class="line">        <span class="keyword">private</span> <span class="built_in">string</span> myLongName;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">USState</span>(<span class="params"><span class="built_in">string</span> strLongName, <span class="built_in">string</span> strShortName</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.myShortName = strShortName;</span><br><span class="line">            <span class="keyword">this</span>.myLongName = strLongName;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> ShortName</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">get</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> myShortName;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> LongName</span><br><span class="line">        &#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">get</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> myLongName;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h1 id="相关链接（侵删）"><a href="#相关链接（侵删）" class="headerlink" title="相关链接（侵删）"></a>相关链接（侵删）</h1><ol><li><a href="https://vimsky.com/examples/detail/csharp-event-system.windows.forms.listcontrol.selectedvaluechanged.html">C# ListControl.SelectedValueChanged事件代码示例</a></li><li><a href="https://vimsky.com/examples/detail/csharp-class-system.windows.forms.listcontrol.html">C# ListControl类代码示例</a></li></ol><hr><center><font color="red">=================我是分割线=================</font></center><p><strong>欢迎到公众号来唠嗑:</strong></p><img src="https://pic4.zhimg.com/80/v2-eedc5dc7d30beedf4c2f1812df8e61a7_720w.jpg">]]></content>
    
    
    <summary type="html">C#控件CheckedListBox 中 ListControl.SelectedValueChanged 事件发生，即参数变化时处理事件</summary>
    
    
    
    <category term="编程类" scheme="https://zml3589110.github.io/categories/%E7%BC%96%E7%A8%8B%E7%B1%BB/"/>
    
    <category term="C#" scheme="https://zml3589110.github.io/categories/%E7%BC%96%E7%A8%8B%E7%B1%BB/C/"/>
    
    <category term="前端" scheme="https://zml3589110.github.io/categories/%E5%89%8D%E7%AB%AF/"/>
    
    <category term="控件" scheme="https://zml3589110.github.io/categories/%E6%8E%A7%E4%BB%B6/"/>
    
    
    <category term="C#" scheme="https://zml3589110.github.io/tags/C/"/>
    
    <category term="CheckedListBox" scheme="https://zml3589110.github.io/tags/CheckedListBox/"/>
    
    <category term="ListControl.SelectedValueChanged" scheme="https://zml3589110.github.io/tags/ListControl-SelectedValueChanged/"/>
    
  </entry>
  
  <entry>
    <title>C#控件CheckedListBox之一（基本使用方法）</title>
    <link href="https://zml3589110.github.io/posts/509147200.html"/>
    <id>https://zml3589110.github.io/posts/509147200.html</id>
    <published>2023-02-23T03:32:20.000Z</published>
    <updated>2023-03-27T00:14:26.638Z</updated>
    
    <content type="html"><![CDATA[<blockquote><ol><li>有时候特殊的场景，要求鼠标点击一下时节点就要选中，因此可以做如下设置：</li></ol></blockquote><p><strong>在初始化的时候load事件里，加上这条设置</strong></p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.checkedListBox1.CheckOnClick = <span class="literal">true</span>;</span><br></pre></td></tr></table></figure><h1 id="常用属性"><a href="#常用属性" class="headerlink" title="常用属性"></a>常用属性</h1><p><strong>（1）CheckOnClick属性</strong></p><p>CheckOnClick属性是布尔类型的值，如果为True，那么单击条目就能将条目勾选；如果为false，则要双击条目才能将其勾选。</p><p><strong>（2）ColumnWidth属性</strong></p><p>ColumnWitdh属性是整型数据，表示多列条目各列的列宽。该属性只有在MultiColumn属性（允许多列显示）设置为true时才有意义。</p><p><strong>（3）MultiColumn属性</strong></p><p>MultiColumn属性是布尔类型的值，指示是否开启多列显示条目。该属性是配合ColumnWidth属性一起使用。</p><p><strong>（4）SelectMode属性</strong></p><p>该属性指示列表将是单选还是多选，这里的“选”表示选中而不是“勾选”，选中后条目会高亮，但条目左边的小方框不会勾选。在CheckedLIstBox控件中，不支持多项选择，该属性只有两个值是有效的，分别是None和One。None表示条目不能被选中，左边的小方框也不能被勾选；One表示只有一个条目可以被选中（但勾选可以选多项）。</p><p><strong>（5）Sorted属性</strong></p><p>该属性是布尔累心的值，如果为true，则条目会根据字母进行排序，如果为false，则不进行排序。</p><p><strong>（6）Count属性</strong></p><p>该属性表示列表中条目的总量。</p><blockquote><p>用法如下：</p></blockquote><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">int</span> conut=checkedListBox1.Items.Count</span><br></pre></td></tr></table></figure><p><strong>（7）Items属性</strong></p><p>获取列表中条目的集合，通过下标获取指定条目。</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">object</span> item=checkedListBox1.Items[i];</span><br></pre></td></tr></table></figure><p><strong>（8）SelectedItem属性和SelectedItems属性</strong></p><p>SelectedItem属性作用是获取选中的条目，而SelectedItems属性是一个数组，保存着被选中的条目的集合，可通过下标来获取条目。</p><blockquote><p>用法如下：</p></blockquote><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">object</span> item =checkedListBox1.SelectedItem;</span><br><span class="line"></span><br><span class="line"><span class="built_in">object</span> item=checkedListBox1.SelectedItems[i];</span><br><span class="line"></span><br><span class="line">checkedListBox1.Items.Add(item);</span><br></pre></td></tr></table></figure><h1 id="常用方法"><a href="#常用方法" class="headerlink" title="常用方法"></a>常用方法</h1><p><strong>（1）Add方法</strong></p><p>该方法用于动态添加条目。用法如下：</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">checkedListBox1.Items.Add（“条目一”）；<span class="comment">//参数可以是一个字符串或者是一个条目</span></span><br><span class="line"><span class="comment">//或</span></span><br><span class="line">checkedListBox1.Items.Add（“条目一”，<span class="literal">true</span>）；<span class="comment">//第二个参数是布尔类型的，指示是否让条目被勾选</span></span><br></pre></td></tr></table></figure><p><strong>（2）RemoveAt方法</strong></p><p>该方法用于移除指定的条目，参数是条目的索引值。</p><p><strong>用法如下：</strong></p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">checkedListBox1.Items.RemoveAt(<span class="number">1</span>);</span><br></pre></td></tr></table></figure><p><strong>（3）Insert方法</strong></p><p>该方法的作用是在指定位置插入一个条目，有两个参数，分别是index和item。index是条目的索引，item可以是一个条目，也可以是一个字符窜。其用法如下：</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">checkedListBox1.Items.Insert(i,“条目一”)；</span><br></pre></td></tr></table></figure><p><strong>（4）GetItemChecked方法</strong></p><p>该方法返回第i项条目是否被勾选（不是选中），如果是则返回true,否则为false。参数是条目的索引值。其用法如下：</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">bool</span> isChecked=checkedListBox1.GetItemChecked(i)；</span><br></pre></td></tr></table></figure><p><strong>（5）SetItemChecked方法</strong></p><p>设置第i项条目是否被选中，参数有两个，第一个是索引，第二个是布尔值。第二个参数如果选true，则将第i项设置为勾选，否则设置为不勾选。其用法如下：</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">checkedListBox1.SetItemChecked（i，<span class="literal">true</span>）；</span><br></pre></td></tr></table></figure><p><strong>（6）Clear方法</strong></p><p>该方法的作用是清除所有的条目。其用法如下：</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">checkedListBox1.Clear（）；</span><br></pre></td></tr></table></figure><h1 id="常用事件"><a href="#常用事件" class="headerlink" title="常用事件"></a>常用事件</h1><p><strong>（1）ItemCheck事件</strong></p><p>当条目被勾选时发生，其用法如下：</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">checkedListBox1_ItemCheck</span>(<span class="params"><span class="built_in">object</span> sender, ItemCheckEventArgs e</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//通过索引引用勾选的条目</span></span><br><span class="line">textBox1.Text = textBox1.Text +<span class="string">&quot;\r\n&quot;</span>+ checkedListBox1.Items[e.Index].ToString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>（2）SelectedIndexChanged和SelectedValuedChanged事件</strong></p><p>这两个事件都是在条目被选中时发生（不一定被勾选）</p><h1 id="应用实例"><a href="#应用实例" class="headerlink" title="应用实例"></a>应用实例</h1><h2 id="1、遍历打勾的值"><a href="#1、遍历打勾的值" class="headerlink" title="1、遍历打勾的值"></a>1、遍历打勾的值</h2><p>初次接触CheckedListBox控件一般认为：foreach (object obj in checkedListBox1.SelectedItems)即可遍历选中的值。<br>其实这里遍历的只是高亮的值并不是打勾的值。</p><p>遍历打勾的值要用下面的代码：</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; checkedListBox1.Items.Count; i++)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (checkedListBox1.GetItemChecked(i))</span><br><span class="line">    &#123;</span><br><span class="line">        MessageBox.Show(checkedListBox1.GetItemText(checkedListBox1.Items[i]));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="2、添加项"><a href="#2、添加项" class="headerlink" title="2、添加项"></a>2、添加项</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">checkedListBox1.Items.Add(<span class="string">&quot;蓝色&quot;</span>);</span><br><span class="line">checkedListBox1.Items.Add(<span class="string">&quot;红色&quot;</span>);</span><br><span class="line">checkedListBox1.Items.Add(<span class="string">&quot;黄色&quot;</span>);</span><br></pre></td></tr></table></figure><h2 id="3、判断第i项是否选中-选中为true-否则为false"><a href="#3、判断第i项是否选中-选中为true-否则为false" class="headerlink" title="3、判断第i项是否选中,选中为true,否则为false"></a>3、判断第i项是否选中,选中为true,否则为false</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>（checkedListBox1.GetItemChecked(i)）</span><br><span class="line">&#123;</span><br><span class="line">     <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">     <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="4、设置第i项是否选中"><a href="#4、设置第i项是否选中" class="headerlink" title="4、设置第i项是否选中"></a>4、设置第i项是否选中</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">checkedListBox1.SetItemChecked(i, <span class="literal">true</span>);  <span class="comment">//true改为false为没有选中。</span></span><br></pre></td></tr></table></figure><h2 id="5、设置全选"><a href="#5、设置全选" class="headerlink" title="5、设置全选"></a>5、设置全选</h2><p><strong>添加一个名为select_all的checkbox控件，由其控制checkedListBox是全选还是全不选</strong></p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">select_all_CheckedChanged</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(select_all.Checked)</span><br><span class="line">&#123;</span><br><span class="line">          <span class="keyword">for</span> (<span class="built_in">int</span> j = <span class="number">0</span>; j &lt; checkedListBox1.Items.Count; j++)</span><br><span class="line">               checkedListBox1.SetItemChecked(j, <span class="literal">true</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">int</span> j =<span class="number">0</span>; j &lt; checkedListBox1.Items.Count; j++)</span><br><span class="line">      checkedListBox1.SetItemChecked(j, <span class="literal">false</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="6、得到全部选中的值-，并将选中的项的文本组合成为一个字符串"><a href="#6、得到全部选中的值-，并将选中的项的文本组合成为一个字符串" class="headerlink" title="6、得到全部选中的值 ，并将选中的项的文本组合成为一个字符串"></a>6、得到全部选中的值 ，并将选中的项的文本组合成为一个字符串</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> strCollected = <span class="built_in">string</span>.Empty;</span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; checkedListBox1.Items.Count; i++)</span><br><span class="line">&#123;</span><br><span class="line">      <span class="keyword">if</span> (checkedListBox1.GetItemChecked(i))</span><br><span class="line">      &#123;</span><br><span class="line">          <span class="keyword">if</span> (strCollected == <span class="built_in">string</span>.Empty)</span><br><span class="line">          &#123;</span><br><span class="line">               strCollected = </span><br><span class="line">                   checkedListBox1.GetItemText(checkedListBox1.Items[i]);</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="keyword">else</span></span><br><span class="line">          &#123;</span><br><span class="line">               strCollected = strCollected + <span class="string">&quot;/&quot;</span> + </span><br><span class="line">                   checkedListBox1.GetItemText(checkedListBox1.Items[i]);</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="7、设置CheckedListBox中第i项的Checked状态"><a href="#7、设置CheckedListBox中第i项的Checked状态" class="headerlink" title="7、设置CheckedListBox中第i项的Checked状态"></a>7、设置CheckedListBox中第i项的Checked状态</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//方法1：</span></span><br><span class="line">checkedListBox1.SetItemCheckState(i, CheckState.Checked);</span><br><span class="line"></span><br><span class="line"><span class="comment">//方法2：</span></span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; checkedListBox1.Items.Count; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (checkedListBox1.GetSelected(i))</span><br><span class="line">&#123;</span><br><span class="line">MessageBox.Show(checkedListBox1.CheckedItems.ToString());</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//方法3：</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">checkBoxAll_CheckedChanged</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">     <span class="keyword">if</span> (checkBoxAll.Checked)</span><br><span class="line">     &#123;</span><br><span class="line">        <span class="comment">//被选择了则将CheckedListBox中的所有条目都变为Checked状态</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; checkedListBoxLayerControl.Items.Count; i++)</span><br><span class="line">        &#123;    </span><br><span class="line">checkedListBoxLayerControl.SetItemCheckState(i, CheckState.Checked);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">     <span class="comment">//否则变成Unchecked状态</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; checkedListBoxLayerControl.Items.Count; i++)</span><br><span class="line">&#123;</span><br><span class="line">checkedListBoxLayerControl.SetItemCheckState(i,CheckState.Unchecked);</span><br><span class="line">&#125;             </span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="8、checkedListBox-单选设置-代码实现"><a href="#8、checkedListBox-单选设置-代码实现" class="headerlink" title="8、checkedListBox 单选设置(代码实现)"></a>8、checkedListBox 单选设置(代码实现)</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">chkl_ItemAuditing_ItemCheck</span>(<span class="params"><span class="built_in">object</span> sender, ItemCheckEventArgs e</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (chkl_ItemAuditing.CheckedItems.Count &gt; <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">         <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; chkl_ItemAuditing.Items.Count; i++)</span><br><span class="line">         &#123;</span><br><span class="line"><span class="keyword">if</span> (i != e.Index)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">this</span>.chkl_ItemAuditing.SetItemCheckState(i,</span><br><span class="line">System.Windows.Forms.CheckState.Unchecked);</span><br><span class="line">&#125;</span><br><span class="line"> &#125;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="9、checkedListBox1显示一个数据库中关键字对应的所有记录"><a href="#9、checkedListBox1显示一个数据库中关键字对应的所有记录" class="headerlink" title="9、checkedListBox1显示一个数据库中关键字对应的所有记录"></a>9、checkedListBox1显示一个数据库中关键字对应的所有记录</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; table.Rows.Count; i++)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">string</span> name = table.Rows[<span class="string">&quot;myname&quot;</span>].ToString();</span><br><span class="line">    <span class="built_in">string</span> paw = table.Rows[<span class="string">&quot;mypaw&quot;</span>].ToString();</span><br><span class="line">    checkedListBox1.Items.Add(name + paw);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="10、根据名设置选中"><a href="#10、根据名设置选中" class="headerlink" title="10、根据名设置选中"></a>10、根据名设置选中</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;CheckedListBox.Items.Count;i++)  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="keyword">if</span>(CheckedListBox.GetItemText(CheckedListBox.Items)==<span class="string">&quot;你得到的值&quot;</span>)  </span><br><span class="line">&#123;  </span><br><span class="line">      CheckedListBox.SetItemChecked(i,<span class="literal">true</span>);  </span><br><span class="line">&#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="11、清除checkedListBox1中所有的选项"><a href="#11、清除checkedListBox1中所有的选项" class="headerlink" title="11、清除checkedListBox1中所有的选项"></a>11、清除checkedListBox1中所有的选项</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; checkedListBox1.Items.Count; i++)</span><br><span class="line">&#123;</span><br><span class="line">    checkedListBox1.Items.Clear();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="12、设置索引为index的项为选中状态"><a href="#12、设置索引为index的项为选中状态" class="headerlink" title="12、设置索引为index的项为选中状态"></a>12、设置索引为index的项为选中状态</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; checkedListBox1.Items.Count; i++)</span><br><span class="line">&#123;</span><br><span class="line">    checkedListBox1.SetItemChecked(i, <span class="literal">true</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="13、选中checkedListBox1所有的选项"><a href="#13、选中checkedListBox1所有的选项" class="headerlink" title="13、选中checkedListBox1所有的选项"></a>13、选中checkedListBox1所有的选项</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//方法1：</span></span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; checkedListBox1.Items.Count; i++)        </span><br><span class="line">&#123;</span><br><span class="line">    checkedListBox1.SetItemCheckState(i, CheckState.Checked);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//方法2：</span></span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; checkedListBox1.Items.Count; i++)</span><br><span class="line">&#123; </span><br><span class="line"><span class="comment">//如果checkedListBox1的第i项被选中，则显示checkedListBox1对应的值</span></span><br><span class="line"><span class="keyword">if</span> (checkedListBox1.GetItemChecked(i))</span><br><span class="line">&#123;</span><br><span class="line">     MessageBox.Show(checkedListBox1.Items.ToString());</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="14、反向选择checkedListBox1的选项"><a href="#14、反向选择checkedListBox1的选项" class="headerlink" title="14、反向选择checkedListBox1的选项"></a>14、反向选择checkedListBox1的选项</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; checkedListBox1.Items.Count; i++)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (checkedListBox1.GetItemChecked(i))</span><br><span class="line">   &#123;</span><br><span class="line">       checkedListBox1.SetItemChecked(i, <span class="literal">false</span>);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">   &#123;</span><br><span class="line">       checkedListBox1.SetItemChecked(i, <span class="literal">true</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="15、checkedListBox1中选定的项-gt-checkedListBox2"><a href="#15、checkedListBox1中选定的项-gt-checkedListBox2" class="headerlink" title="15、checkedListBox1中选定的项-&gt;checkedListBox2"></a>15、checkedListBox1中选定的项-&gt;checkedListBox2</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; checkedListBox1.CheckedItems.Count; i++)</span><br><span class="line">&#123;</span><br><span class="line">    checkedListBox2.Items.Add(<span class="keyword">this</span>.checkedListBox1.CheckedItems);</span><br><span class="line"><span class="comment">//remove是除去一个具体的值，不是index，注意了</span></span><br><span class="line">    <span class="keyword">this</span>.checkedListBox1.Items.Remove(<span class="keyword">this</span>.checkedListBox1.CheckedItems);      </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h1 id="相关链接（侵删）"><a href="#相关链接（侵删）" class="headerlink" title="相关链接（侵删）"></a>相关链接（侵删）</h1><ol><li><a href="https://blog.csdn.net/opencv220/article/details/109616788">c#学习笔记：CheckedListBox控件的用法</a></li></ol><hr><center><font color="red">=================我是分割线=================</font></center><p><strong>欢迎到公众号来唠嗑:</strong></p><img src="https://pic4.zhimg.com/80/v2-eedc5dc7d30beedf4c2f1812df8e61a7_720w.jpg">]]></content>
    
    
    <summary type="html">C#控件CheckedListBox 基本用法</summary>
    
    
    
    <category term="编程类" scheme="https://zml3589110.github.io/categories/%E7%BC%96%E7%A8%8B%E7%B1%BB/"/>
    
    <category term="C#" scheme="https://zml3589110.github.io/categories/%E7%BC%96%E7%A8%8B%E7%B1%BB/C/"/>
    
    <category term="前端" scheme="https://zml3589110.github.io/categories/%E5%89%8D%E7%AB%AF/"/>
    
    <category term="控件" scheme="https://zml3589110.github.io/categories/%E6%8E%A7%E4%BB%B6/"/>
    
    
    <category term="C#" scheme="https://zml3589110.github.io/tags/C/"/>
    
    <category term="CheckedListBox" scheme="https://zml3589110.github.io/tags/CheckedListBox/"/>
    
    <category term="基本使用" scheme="https://zml3589110.github.io/tags/%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/"/>
    
  </entry>
  
  <entry>
    <title>C#控件DataGridView之三（控件中至少有一列没有单元格模板）</title>
    <link href="https://zml3589110.github.io/posts/520108804.html"/>
    <id>https://zml3589110.github.io/posts/520108804.html</id>
    <published>2023-02-23T03:22:20.000Z</published>
    <updated>2023-03-27T00:14:26.655Z</updated>
    
    <content type="html"><![CDATA[<h1 id="背景需求"><a href="#背景需求" class="headerlink" title="背景需求"></a>背景需求</h1><p>一个Form窗体，一个Button按钮，一个DataGridView控件，我要实现的是点击按钮，DataGridView控件增加一列。</p><h2 id="第一次尝试-报错"><a href="#第一次尝试-报错" class="headerlink" title="第一次尝试-报错"></a>第一次尝试-报错</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">button1_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    DataGridViewColumn column = <span class="keyword">new</span> DataGridViewColumn();</span><br><span class="line">    column.Name = <span class="string">&quot;Column0&quot;</span>;</span><br><span class="line">    column.HeaderText = <span class="string">&quot;选择&quot;</span>;      </span><br><span class="line">    dataGridView1.Columns.Add(column);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>问题：</strong></p><img src="https://img-blog.csdn.net/20180404165123659"><h2 id="第二次尝试-重复增加这一列"><a href="#第二次尝试-重复增加这一列" class="headerlink" title="第二次尝试-重复增加这一列"></a>第二次尝试-重复增加这一列</h2><p><strong>多次单击按钮，就会重复增加这一列</strong></p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">button1_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    DataGridViewColumn column = <span class="keyword">new</span> DataGridViewColumn();</span><br><span class="line">    column.Name = <span class="string">&quot;Column0&quot;</span>;</span><br><span class="line">    column.HeaderText = <span class="string">&quot;选择&quot;</span>;</span><br><span class="line">    DataGridViewCell dgvcell = <span class="keyword">new</span> DataGridViewTextBoxCell();</span><br><span class="line">    column.CellTemplate = dgvcell;</span><br><span class="line">    dataGridView1.Columns.Add(column);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="第三次尝试-达到要求"><a href="#第三次尝试-达到要求" class="headerlink" title="第三次尝试-达到要求"></a>第三次尝试-达到要求</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">button1_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    dataGridView1.Columns.Clear();</span><br><span class="line">    DataGridViewColumn column = <span class="keyword">new</span> DataGridViewColumn();</span><br><span class="line">    column.Name = <span class="string">&quot;Column0&quot;</span>;</span><br><span class="line">    column.HeaderText = <span class="string">&quot;选择&quot;</span>;</span><br><span class="line">    DataGridViewCell dgvcell = <span class="keyword">new</span> DataGridViewTextBoxCell();</span><br><span class="line">    column.CellTemplate = dgvcell;</span><br><span class="line">    dataGridView1.Columns.Add(column);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h1 id="相关链接（侵删）"><a href="#相关链接（侵删）" class="headerlink" title="相关链接（侵删）"></a>相关链接（侵删）</h1><ol><li><a href="https://blog.csdn.net/Luyanc/article/details/79819517">DataGridView控件中至少有一列没有单元格模板</a></li></ol><hr><center><font color="red">=================我是分割线=================</font></center><p><strong>欢迎到公众号来唠嗑:</strong></p><img src="https://pic4.zhimg.com/80/v2-eedc5dc7d30beedf4c2f1812df8e61a7_720w.jpg">]]></content>
    
    
    <summary type="html">C#控件DataGridView 错误提示控件中没有单元格模板</summary>
    
    
    
    <category term="编程类" scheme="https://zml3589110.github.io/categories/%E7%BC%96%E7%A8%8B%E7%B1%BB/"/>
    
    <category term="C#" scheme="https://zml3589110.github.io/categories/%E7%BC%96%E7%A8%8B%E7%B1%BB/C/"/>
    
    <category term="前端" scheme="https://zml3589110.github.io/categories/%E5%89%8D%E7%AB%AF/"/>
    
    <category term="控件" scheme="https://zml3589110.github.io/categories/%E6%8E%A7%E4%BB%B6/"/>
    
    
    <category term="C#" scheme="https://zml3589110.github.io/tags/C/"/>
    
    <category term="DataGridView" scheme="https://zml3589110.github.io/tags/DataGridView/"/>
    
    <category term="错误" scheme="https://zml3589110.github.io/tags/%E9%94%99%E8%AF%AF/"/>
    
    <category term="一列没有单元格" scheme="https://zml3589110.github.io/tags/%E4%B8%80%E5%88%97%E6%B2%A1%E6%9C%89%E5%8D%95%E5%85%83%E6%A0%BC/"/>
    
  </entry>
  
  <entry>
    <title>C# 控件Groupbox之一（动态添加checkbox）</title>
    <link href="https://zml3589110.github.io/posts/3607925543.html"/>
    <id>https://zml3589110.github.io/posts/3607925543.html</id>
    <published>2023-02-23T03:10:20.000Z</published>
    <updated>2023-03-27T00:14:26.623Z</updated>
    
    <content type="html"><![CDATA[<h1 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h1><p><strong>添加都是在groupbox的text的位置，每添加一个就不前面加的覆盖了</strong></p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">foreach</span>(DataRow dr <span class="keyword">in</span> dt.Rows)</span><br><span class="line"></span><br><span class="line">         &#123;</span><br><span class="line"></span><br><span class="line">            CheckBox chkbox = <span class="keyword">new</span> CheckBox();</span><br><span class="line"></span><br><span class="line">            chkbox.Text = dr[<span class="string">&quot;模块名称&quot;</span>].ToString();</span><br><span class="line"></span><br><span class="line">            gpboxBrow.Controls.Add(chkbox);</span><br><span class="line"></span><br><span class="line">         &#125;</span><br></pre></td></tr></table></figure><h2 id="添加位置坐标来解决问题"><a href="#添加位置坐标来解决问题" class="headerlink" title="添加位置坐标来解决问题"></a>添加位置坐标来解决问题</h2><ul><li><p>方法一：</p><p>在你的代码中添加这样的代码：</p></li></ul><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chkbox.Location = <span class="keyword">new</span> System.Drawing.Point(<span class="number">349</span>, <span class="number">210</span>);</span><br><span class="line">chkbox.Size = <span class="keyword">new</span> System.Drawing.Size(<span class="number">75</span>, <span class="number">23</span>);</span><br></pre></td></tr></table></figure><p><strong>例如：动态添加两个Button</strong></p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">button2_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">// button1</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line">Button btn = <span class="keyword">new</span> Button();</span><br><span class="line">btn.Location = <span class="keyword">new</span> System.Drawing.Point(<span class="number">349</span>, <span class="number">210</span>);</span><br><span class="line">btn.Name = <span class="string">&quot;button1&quot;</span>;</span><br><span class="line">btn.Size = <span class="keyword">new</span> System.Drawing.Size(<span class="number">75</span>, <span class="number">23</span>);</span><br><span class="line">btn.TabIndex = <span class="number">2</span>;</span><br><span class="line">btn.Text = <span class="string">&quot;button1&quot;</span>;</span><br><span class="line">btn.UseVisualStyleBackColor = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">this</span>.Controls.Add(btn);</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// button2</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line">Button btn2 = <span class="keyword">new</span> Button();</span><br><span class="line">btn2.Location = <span class="keyword">new</span> System.Drawing.Point(<span class="number">349</span>, <span class="number">240</span>);</span><br><span class="line">btn2.Name = <span class="string">&quot;button2&quot;</span>;</span><br><span class="line">btn2.Size = <span class="keyword">new</span> System.Drawing.Size(<span class="number">75</span>, <span class="number">23</span>);</span><br><span class="line">btn2.TabIndex = <span class="number">3</span>;</span><br><span class="line">btn2.Text = <span class="string">&quot;button2&quot;</span>;</span><br><span class="line"><span class="keyword">this</span>.Controls.Add(btn2);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="或者设置chkbox-Location属性"><a href="#或者设置chkbox-Location属性" class="headerlink" title="或者设置chkbox.Location属性"></a>或者设置chkbox.Location属性</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">int</span> y = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">foreach</span>(DataRow dr <span class="keyword">in</span> dt.Rows)</span><br><span class="line">         &#123;</span><br><span class="line">            y += <span class="number">30</span>;</span><br><span class="line">            CheckBox chkbox = <span class="keyword">new</span> CheckBox();</span><br><span class="line">            chkbox.Location = <span class="keyword">new</span> Point(<span class="number">10</span>,y);</span><br><span class="line">            chkbox.Text = dr[<span class="string">&quot;模块名称&quot;</span>].ToString();</span><br><span class="line">            gpboxBrow.Controls.Add(chkbox);</span><br><span class="line">         &#125;</span><br></pre></td></tr></table></figure><hr><h1 id="相关链接（侵删）"><a href="#相关链接（侵删）" class="headerlink" title="相关链接（侵删）"></a>相关链接（侵删）</h1><ol><li><a href="https://bbs.csdn.net/topics/290088852?list=559332">groupbox 里动态添加checkbox的问题</a></li></ol><hr><center><font color="red">=================我是分割线=================</font></center><p><strong>欢迎到公众号来唠嗑:</strong></p><img src="https://pic4.zhimg.com/80/v2-eedc5dc7d30beedf4c2f1812df8e61a7_720w.jpg">]]></content>
    
    
    <summary type="html">C# 在控件Groupbox内动态添加 checkbox 复选框</summary>
    
    
    
    <category term="编程类" scheme="https://zml3589110.github.io/categories/%E7%BC%96%E7%A8%8B%E7%B1%BB/"/>
    
    <category term="C#" scheme="https://zml3589110.github.io/categories/%E7%BC%96%E7%A8%8B%E7%B1%BB/C/"/>
    
    <category term="前端" scheme="https://zml3589110.github.io/categories/%E5%89%8D%E7%AB%AF/"/>
    
    <category term="控件" scheme="https://zml3589110.github.io/categories/%E6%8E%A7%E4%BB%B6/"/>
    
    <category term="Groupbox" scheme="https://zml3589110.github.io/categories/Groupbox/"/>
    
    
    <category term="C#" scheme="https://zml3589110.github.io/tags/C/"/>
    
    <category term="控件" scheme="https://zml3589110.github.io/tags/%E6%8E%A7%E4%BB%B6/"/>
    
    <category term="Groupbox" scheme="https://zml3589110.github.io/tags/Groupbox/"/>
    
    <category term="checkbox" scheme="https://zml3589110.github.io/tags/checkbox/"/>
    
  </entry>
  
  <entry>
    <title>C# 用代码向窗体中添加控件</title>
    <link href="https://zml3589110.github.io/posts/952047602.html"/>
    <id>https://zml3589110.github.io/posts/952047602.html</id>
    <published>2023-02-23T03:04:20.000Z</published>
    <updated>2023-03-27T00:14:26.534Z</updated>
    
    <content type="html"><![CDATA[<h1 id="添加控件步骤"><a href="#添加控件步骤" class="headerlink" title="添加控件步骤"></a>添加控件步骤</h1><p>（1）实例化一个控件；</p><p>（2）设置控件实例属性；</p><p>（3）将控件实例添加到窗体的Controls集合中</p><h2 id="【示例】"><a href="#【示例】" class="headerlink" title="【示例】"></a>【示例】</h2><p>（1）在Visual Studio中新建一个“Windos 窗体应用程序”</p><p>（2）窗体代码Form1.cs如下：</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Forms;</span><br><span class="line"><span class="keyword">using</span> System.Drawing;</span><br><span class="line"><span class="keyword">namespace</span> <span class="title">WindowsFormsApplication1</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">partial</span> <span class="keyword">class</span> <span class="title">Form1</span> : <span class="title">Form</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Form1</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            InitializeComponent();</span><br><span class="line">            </span><br><span class="line">            <span class="comment">//实例化一个命令按钮</span></span><br><span class="line">            Button btn = <span class="keyword">new</span> Button();</span><br><span class="line">            </span><br><span class="line">            <span class="comment">//设置命令按钮的属性 </span></span><br><span class="line">            btn.Location = <span class="keyword">new</span> Point(<span class="number">50</span>, <span class="number">50</span>);</span><br><span class="line">            btn.Size = <span class="keyword">new</span> Size(<span class="number">80</span>, <span class="number">25</span>);</span><br><span class="line">            btn.Text = <span class="string">&quot;退出&quot;</span>;</span><br><span class="line">            btn.Click += btn_Click;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">//添加到窗口的Controls集合中</span></span><br><span class="line">            <span class="keyword">this</span>.Controls.Add(btn);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">btn_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="keyword">this</span>.Close();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>（3）运行效果<br>窗体启动后：</p><img src="https://www.521u.com/img.php?id=c995d143ad4bd113bfad996f5cafa40f4bfb050e?x-bce-process=image%2Fresize%2Cm_lfit%2Cw_600%2Ch_800%2Climit_1%2Fquality%2Cq_85%2Fformat%2Cf_auto"><hr><h1 id="相关链接（侵删）"><a href="#相关链接（侵删）" class="headerlink" title="相关链接（侵删）"></a>相关链接（侵删）</h1><ol><li><a href="https://www.521u.com/read/227384424.html">C#如何用代码向窗体中添加控件？）</a></li></ol><hr><center><font color="red">=================我是分割线=================</font></center><p><strong>欢迎到公众号来唠嗑:</strong></p><img src="https://pic4.zhimg.com/80/v2-eedc5dc7d30beedf4c2f1812df8e61a7_720w.jpg">]]></content>
    
    
    <summary type="html">C# 使用代码的方式向窗体中添加控件</summary>
    
    
    
    <category term="编程类" scheme="https://zml3589110.github.io/categories/%E7%BC%96%E7%A8%8B%E7%B1%BB/"/>
    
    <category term="C#" scheme="https://zml3589110.github.io/categories/%E7%BC%96%E7%A8%8B%E7%B1%BB/C/"/>
    
    <category term="前端" scheme="https://zml3589110.github.io/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
    <category term="C#" scheme="https://zml3589110.github.io/tags/C/"/>
    
    <category term="路径" scheme="https://zml3589110.github.io/tags/%E8%B7%AF%E5%BE%84/"/>
    
    <category term="控件" scheme="https://zml3589110.github.io/tags/%E6%8E%A7%E4%BB%B6/"/>
    
    <category term="窗体" scheme="https://zml3589110.github.io/tags/%E7%AA%97%E4%BD%93/"/>
    
  </entry>
  
  <entry>
    <title>C# 配置引用程序集的路径（分离exe和dll从指定路径调用）</title>
    <link href="https://zml3589110.github.io/posts/3340548759.html"/>
    <id>https://zml3589110.github.io/posts/3340548759.html</id>
    <published>2023-02-20T02:48:20.000Z</published>
    <updated>2023-02-20T02:51:31.580Z</updated>
    
    <content type="html"><![CDATA[<p><strong>问题：在开发较大的项目时，会引用很多其他项目的dll，而我们规划将不同类型的dll放在不同的功能目录下，此时我们通过反射动态加载时，出现System.IO.FileNotFoundException: 未能加载文件或程序集的问题。</strong></p><p>程序集DLL分为两类：</p><p>1）全局DLL（在GAC中注册，GAC——全局程序集缓存），有关GAC的详细资料可以参考一下链接：<br><a href="http://blog.csdn.net/prince_lintb/article/details/40789211">http://blog.csdn.net/prince_lintb/article/details/40789211</a></p><p>2）私有DLL，默认情况下，添加程序集引用的时候，程序集DLL会复制到可执行目录下。<br>对于私有DLL，当数目众多时，由于没有分类，会显得比较凌乱。在发布软件的时候也不希望在软件安装目录下看到大量的dll文件。如果能将其分类放在不同的文件夹下就再好不过了。<br>问题是，如何解决应用程序对DLL的查找路径问题呢？答案是在配置文件中添加如下配置项。（app.config或者web.config，没有就新建，添加-&gt;配置文件）</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">&lt;runtime&gt;</span><br><span class="line">&lt;!--xmlns是必需的特性。指定程序集绑定所需的 XML 命名空间。 使用字符串“urn: 架构-microsoft-com:asm.v1”作为值。--&gt;</span><br><span class="line">&lt;assemblyBinding xmlns=<span class="string">&quot;urn:schemas-microsoft-com:asm.v1&quot;</span>&gt;</span><br><span class="line">&lt;publisherPolicy apply=<span class="string">&quot;yes&quot;</span>/&gt; &lt;!--指定运行时是否使用发布者策略--&gt;</span><br><span class="line">&lt;!--指定加载程序集时公共语言运行时搜索的子目录, 其中privatePath是相对于*.exe.config文件的相对路径，多个文件夹以分号分隔。--&gt;</span><br><span class="line">&lt;probing privatePath=<span class="string">&quot;Common;Security&quot;</span>/&gt;</span><br><span class="line">&lt;/assemblyBinding&gt;</span><br><span class="line">&lt;/runtime&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure><p>其中privatePath是相对于*.exe.config文件的相对路径，多个文件夹以分号分隔。当编译后会在生成目录下生成一个后缀为.exe.config的文件，就是相对这个文件的。<br>添加程序集DLL引用之后，将DLL的属性“复制本地”设置为False。程序编译过程中，会自动检索Common和Security文件夹下的DLL及其依赖项。</p><p>注：关于xml字段和及节点含义查询：<a href="https://msdn.microsoft.com/zh-cn/library/twy1dw1e">https://msdn.microsoft.com/zh-cn/library/twy1dw1e</a></p><hr><h1 id="相关链接（侵删）"><a href="#相关链接（侵删）" class="headerlink" title="相关链接（侵删）"></a>相关链接（侵删）</h1><ol><li><a href="https://www.cnblogs.com/guanshan/p/guan2021-4-1_002.html">C# 配置引用程序集的路径（分离exe和dll从指定路径调用）</a></li></ol><hr><center><font color="red">=================我是分割线=================</font></center><p><strong>欢迎到公众号来唠嗑:</strong></p><img src="https://pic4.zhimg.com/80/v2-eedc5dc7d30beedf4c2f1812df8e61a7_720w.jpg">]]></content>
    
    
    <summary type="html">C# 分离exe和dll从指定路径调用</summary>
    
    
    
    <category term="编程类" scheme="https://zml3589110.github.io/categories/%E7%BC%96%E7%A8%8B%E7%B1%BB/"/>
    
    <category term="C#" scheme="https://zml3589110.github.io/categories/%E7%BC%96%E7%A8%8B%E7%B1%BB/C/"/>
    
    <category term="前端" scheme="https://zml3589110.github.io/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
    <category term="C#" scheme="https://zml3589110.github.io/tags/C/"/>
    
    <category term="路径" scheme="https://zml3589110.github.io/tags/%E8%B7%AF%E5%BE%84/"/>
    
    <category term="dll" scheme="https://zml3589110.github.io/tags/dll/"/>
    
  </entry>
  
  <entry>
    <title>C#控件DataGridView之二（标题列头等添加复选框）</title>
    <link href="https://zml3589110.github.io/posts/3040252591.html"/>
    <id>https://zml3589110.github.io/posts/3040252591.html</id>
    <published>2023-02-20T02:09:20.000Z</published>
    <updated>2023-02-20T02:51:31.576Z</updated>
    
    <content type="html"><![CDATA[<h1 id="列头添加复选框（这个方法试过-列数不多可以用）"><a href="#列头添加复选框（这个方法试过-列数不多可以用）" class="headerlink" title="列头添加复选框（这个方法试过-列数不多可以用）"></a>列头添加复选框（这个方法试过-列数不多可以用）</h1><p>第一：添加列标题时，添加两个空格——用于显示复选框；<br>第二：实现列标题添加复选框，代码如下：</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">AddCheckeBoxToDGVHeader</span>(<span class="params">DataGridView dgv</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.dgvList.Columns.Count; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                System.Windows.Forms.CheckBox ckBox = <span class="keyword">new</span> System.Windows.Forms.CheckBox();</span><br><span class="line">                <span class="comment">//ckBox.Text = &quot;全选&quot;;</span></span><br><span class="line">                ckBox.Checked = <span class="literal">true</span>;</span><br><span class="line">                System.Drawing.Rectangle rect =</span><br><span class="line">                    dgv.GetCellDisplayRectangle(i, <span class="number">-1</span>, <span class="literal">false</span>);</span><br><span class="line">                ckBox.Size = <span class="keyword">new</span> System.Drawing.Size(<span class="number">25</span>, <span class="number">25</span>);</span><br><span class="line"> </span><br><span class="line">                ckBox.Location = rect.Location;</span><br><span class="line">                ckBox.Padding = <span class="keyword">new</span> System.Windows.Forms.Padding(<span class="number">2</span>, <span class="number">6</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">                ckBox.BackColor = Color.Transparent;</span><br><span class="line">                ckBox.Name = dgv.Columns[i].Name;</span><br><span class="line">                ckBox.CheckedChanged += <span class="keyword">new</span> EventHandler(ckBox_CheckedChanged);</span><br><span class="line"> </span><br><span class="line">                dgv.Controls.Add(ckBox);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">   <span class="function"><span class="keyword">void</span> <span class="title">ckBox_CheckedChanged</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            CheckBox chb = sender <span class="keyword">as</span> CheckBox;</span><br><span class="line">            MessageBox.Show(<span class="string">&quot;Test==&quot;</span>+ chb.Name);</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><p><strong>运行效果：</strong></p><img src="https://images2018.cnblogs.com/blog/529017/201806/529017-20180615133704176-747383869.png"><h1 id="在dataGridView表格中插入复选框"><a href="#在dataGridView表格中插入复选框" class="headerlink" title="在dataGridView表格中插入复选框"></a>在dataGridView表格中插入复选框</h1><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">DataGridViewColumn myCol = <span class="keyword">new</span> DataGridViewCheckBoxColumn();</span><br><span class="line">myCol.Name = <span class="string">&quot;SelBox&quot;</span>;    <span class="comment">//设置列的名称</span></span><br><span class="line">myCol.HeaderText = <span class="string">&quot;字段行的值&quot;</span>;     <span class="comment">//显示的列名</span></span><br><span class="line">dataGridView1.Columns.Insert(<span class="number">0</span>, myCol);<span class="comment">//在dataGridView1的指定列添加复选框</span></span><br><span class="line"><span class="comment">//dataGridView1.Columns.Add(myCol); //在最后列插入复选框,可自由选择</span></span><br></pre></td></tr></table></figure><h1 id="C-DataGridViewCheckBoxColumn用法"><a href="#C-DataGridViewCheckBoxColumn用法" class="headerlink" title="C#DataGridViewCheckBoxColumn用法"></a>C#DataGridViewCheckBoxColumn用法</h1><h2 id="实现功能："><a href="#实现功能：" class="headerlink" title="实现功能："></a>实现功能：</h2><p>点击单元格实现checkbox的勾选，点击头标题实现全选和非全选，记录选中的行数 （注意：this.dataList.RefreshEdit();&#x2F;&#x2F;否则可能不全选）</p><h2 id="增加一列复选框"><a href="#增加一列复选框" class="headerlink" title="增加一列复选框"></a>增加一列复选框</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//增加一列复选框</span></span><br><span class="line">DataGridViewCheckBoxColumn columncb = <span class="keyword">new</span> DataGridViewCheckBoxColumn();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 窗体加载</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;sender&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;e&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">FrmAddOrder_Load</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//初始化数据</span></span><br><span class="line"><span class="keyword">this</span>.dataList.DataSource = dataSource_NoOrder;<span class="comment">//绑定数据源</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//给datagridview加复选框的初始化</span></span><br><span class="line">columncb.FlatStyle = FlatStyle.Standard;</span><br><span class="line">columncb.HeaderText = <span class="string">&quot;👆全选&quot;</span>;</span><br><span class="line">columncb.Name = <span class="string">&quot;cb_check&quot;</span>;</span><br><span class="line">columncb.TrueValue = <span class="literal">true</span>;</span><br><span class="line">columncb.FalseValue = <span class="literal">false</span>;</span><br><span class="line">columncb.DataPropertyName = <span class="string">&quot;IsChecked&quot;</span>;</span><br><span class="line"><span class="comment">//datagridview的Name为dataList</span></span><br><span class="line">dataList.Columns.Insert(<span class="number">0</span>, columncb);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 头checkbox是否选中</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="built_in">bool</span> headCkBoxIsChecked = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 点击datagridview单元格，可以勾选该行的checkbox</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;sender&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;e&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dataList_CellMouseClick</span>(<span class="params"><span class="built_in">object</span> sender, DataGridViewCellMouseEventArgs e</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (e.RowIndex == <span class="number">-1</span> &amp;&amp; !headCkBoxIsChecked &amp;&amp; e.ColumnIndex == <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; dataList.Rows.Count; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">this</span>.dataList.Rows[i].Cells[<span class="string">&quot;cb_check&quot;</span>].Value = <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line">headCkBoxIsChecked = <span class="literal">true</span>;</span><br><span class="line">columncb.HeaderText = <span class="string">&quot;✋ 已全选&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (e.RowIndex == <span class="number">-1</span> &amp;&amp; headCkBoxIsChecked &amp;&amp; e.ColumnIndex == <span class="number">0</span> )</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; dataList.Rows.Count; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">this</span>.dataList.Rows[i].Cells[<span class="number">0</span>].Value = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">headCkBoxIsChecked = <span class="literal">false</span>;</span><br><span class="line">columncb.HeaderText = <span class="string">&quot;👆 全选&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(e.ColumnIndex == <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> ((<span class="built_in">bool</span>)dataList.Rows[e.RowIndex].Cells[<span class="string">&quot;cb_check&quot;</span>].EditedFormattedValue == <span class="literal">true</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">this</span>.dataList.Rows[e.RowIndex].Cells[<span class="string">&quot;cb_check&quot;</span>].Value = <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">this</span>.dataList.Rows[e.RowIndex].Cells[<span class="string">&quot;cb_check&quot;</span>].Value = <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">this</span>.dataList.RefreshEdit();<span class="comment">//刷新操作，否则点击之后可能不能立即勾选</span></span><br><span class="line"><span class="comment">//记录选中行数</span></span><br><span class="line">selectNum = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.dataList.Rows.Count; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> ((<span class="built_in">bool</span>)dataList.Rows[i].Cells[<span class="string">&quot;cb_check&quot;</span>].EditedFormattedValue)</span><br><span class="line">&#123;</span><br><span class="line">selectNum += <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">this</span>.lbNum.Text = <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0&#125; &quot;</span>, selectNum);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="一个单元格添加CheckBox"><a href="#一个单元格添加CheckBox" class="headerlink" title="一个单元格添加CheckBox"></a>一个单元格添加CheckBox</h1><p>把 DataGridViewCheckBoxCell 实例放在指定的单元格里<br>如</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> chk = <span class="keyword">new</span> DataGridViewCheckBoxCell();</span><br><span class="line">dataGridView1.Rows[<span class="number">0</span>].Cells[<span class="number">0</span>] = chk;</span><br></pre></td></tr></table></figure><h1 id="DataGridView控件列头添加CheckBox"><a href="#DataGridView控件列头添加CheckBox" class="headerlink" title="DataGridView控件列头添加CheckBox"></a>DataGridView控件列头添加CheckBox</h1><blockquote><p>DataGridView控件是CS架构中用的比较频繁的一个控件，里面提供了checkbox列的功能，可是却没有在列头给出checkbox控件用于全选&#x2F;全部取消所有行的功能，确实是个遗憾，这里就通过绘制实现这个功能.</p></blockquote><h1 id="添加一个帮助类"><a href="#添加一个帮助类" class="headerlink" title="添加一个帮助类"></a>添加一个帮助类</h1><p>添加一个帮助类DataGridViewCheckBoxHeaderCell，用于绘制列头checkbox和创建鼠标单击事件，代码如下：</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">DataGridViewCheckBoxHeaderCell</span> : <span class="title">DataGridViewColumnHeaderCell</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="built_in">delegate</span> <span class="keyword">void</span> <span class="title">DataGridViewCheckBoxHeaderEventHander</span>(<span class="params"><span class="built_in">object</span> sender, DataGridViewCheckBoxHeaderEventArgs e</span>)</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> Point checkBoxLocation;</span><br><span class="line">        <span class="keyword">private</span> Size checkBoxSize;</span><br><span class="line">        <span class="keyword">private</span> <span class="built_in">bool</span> _checked = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">private</span> Point _cellLocation = <span class="keyword">new</span> Point();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> System.Windows.Forms.VisualStyles.CheckBoxState _cbState =</span><br><span class="line">            System.Windows.Forms.VisualStyles.CheckBoxState.UncheckedNormal;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">event</span> DataGridViewCheckBoxHeaderEventHander OnCheckBoxClicked;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//绘制列头checkbox</span></span><br><span class="line">        <span class="function"><span class="keyword">protected</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Paint</span>(<span class="params">System.Drawing.Graphics graphics,</span></span></span><br><span class="line"><span class="function"><span class="params">                                      System.Drawing.Rectangle clipBounds,</span></span></span><br><span class="line"><span class="function"><span class="params">                                      System.Drawing.Rectangle cellBounds,</span></span></span><br><span class="line"><span class="function"><span class="params">                                      <span class="built_in">int</span> rowIndex,</span></span></span><br><span class="line"><span class="function"><span class="params">                                      DataGridViewElementStates dataGridViewElementState,</span></span></span><br><span class="line"><span class="function"><span class="params">                                      <span class="built_in">object</span> <span class="keyword">value</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">                                      <span class="built_in">object</span> formattedValue,</span></span></span><br><span class="line"><span class="function"><span class="params">                                      <span class="built_in">string</span> errorText,</span></span></span><br><span class="line"><span class="function"><span class="params">                                      DataGridViewCellStyle cellStyle,</span></span></span><br><span class="line"><span class="function"><span class="params">                                      DataGridViewAdvancedBorderStyle advancedBorderStyle,</span></span></span><br><span class="line"><span class="function"><span class="params">                                      DataGridViewPaintParts paintParts</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="keyword">base</span>.Paint(graphics, clipBounds, cellBounds, rowIndex,</span><br><span class="line">                       dataGridViewElementState, <span class="keyword">value</span>,</span><br><span class="line">                       formattedValue, errorText, cellStyle,</span><br><span class="line">                       advancedBorderStyle, paintParts);</span><br><span class="line">            Point p = <span class="keyword">new</span> Point();</span><br><span class="line">            Size s = CheckBoxRenderer.GetGlyphSize(graphics,</span><br><span class="line">                                                   System.Windows.Forms.VisualStyles.CheckBoxState.UncheckedNormal);</span><br><span class="line">            p.X = cellBounds.Location.X +</span><br><span class="line">                  (cellBounds.Width/<span class="number">2</span>) - (s.Width/<span class="number">2</span>) - <span class="number">1</span>; <span class="comment">//列头checkbox的X坐标</span></span><br><span class="line">            p.Y = cellBounds.Location.Y +</span><br><span class="line">                  (cellBounds.Height/<span class="number">2</span>) - (s.Height/<span class="number">2</span>); <span class="comment">//列头checkbox的Y坐标</span></span><br><span class="line">            _cellLocation = cellBounds.Location;</span><br><span class="line">            checkBoxLocation = p;</span><br><span class="line">            checkBoxSize = s;</span><br><span class="line">            <span class="keyword">if</span> (_checked)</span><br><span class="line">                _cbState = System.Windows.Forms.VisualStyles.</span><br><span class="line">                    CheckBoxState.CheckedNormal;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                _cbState = System.Windows.Forms.VisualStyles.</span><br><span class="line">                    CheckBoxState.UncheckedNormal;</span><br><span class="line">            CheckBoxRenderer.DrawCheckBox</span><br><span class="line">                (graphics, checkBoxLocation, _cbState);</span><br><span class="line">        &#125;</span><br><span class="line">      </span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 点击列头checkbox单击事件</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">protected</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">OnMouseClick</span>(<span class="params">DataGridViewCellMouseEventArgs e</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            Point p = <span class="keyword">new</span> Point(e.X + _cellLocation.X, e.Y + _cellLocation.Y);</span><br><span class="line">            <span class="keyword">if</span> (p.X &gt;= checkBoxLocation.X &amp;&amp; p.X &lt;=</span><br><span class="line">                                             checkBoxLocation.X + checkBoxSize.Width</span><br><span class="line">                &amp;&amp; p.Y &gt;= checkBoxLocation.Y &amp;&amp; p.Y &lt;=</span><br><span class="line">                checkBoxLocation.Y + checkBoxSize.Height)</span><br><span class="line">            &#123;</span><br><span class="line">                _checked = !_checked;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                <span class="comment">//获取列头checkbox的选择状态</span></span><br><span class="line">                DataGridViewCheckBoxHeaderEventArgs ex = <span class="keyword">new</span> DataGridViewCheckBoxHeaderEventArgs();</span><br><span class="line">                ex.CheckedState = _checked;</span><br><span class="line"></span><br><span class="line">                <span class="built_in">object</span> sender = <span class="keyword">new</span> <span class="built_in">object</span>(); <span class="comment">//此处不代表选择的列头checkbox，只是作为参数传递。应该列头checkbox是绘制出来的，无法获得它的实例</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (OnCheckBoxClicked != <span class="literal">null</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    OnCheckBoxClicked(sender, ex); <span class="comment">//触发单击事件</span></span><br><span class="line">                    <span class="keyword">this</span>.DataGridView.InvalidateCell(<span class="keyword">this</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">base</span>.OnMouseClick(e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//定义包含列头checkbox选择状态的参数类</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">DataGridViewCheckBoxHeaderEventArgs</span> : <span class="title">EventArgs</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="built_in">bool</span> checkedState;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">bool</span> CheckedState</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">get</span> &#123; <span class="keyword">return</span> checkedState; &#125;</span><br><span class="line">            <span class="keyword">set</span> &#123; checkedState = <span class="keyword">value</span>; &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h1 id="代码使用"><a href="#代码使用" class="headerlink" title="代码使用"></a>代码使用</h1><p>在有DataGridView的界面，添加代码如下：</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span>给DataGridView添加checkbox列头</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">AddCheckboxCell</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            DataGridViewCheckBoxHeaderCell ch = <span class="keyword">new</span> DataGridViewCheckBoxHeaderCell();</span><br><span class="line">            ch.OnCheckBoxClicked += <span class="keyword">new</span> DataGridViewCheckBoxHeaderCell.DataGridViewCheckBoxHeaderEventHander(ch_OnCheckBoxClicked);</span><br><span class="line">            <span class="comment">//第一列为DataGridViewCheckBoxColumn</span></span><br><span class="line">            DataGridViewCheckBoxColumn checkboxCol = <span class="keyword">new</span> DataGridViewCheckBoxColumn();</span><br><span class="line">            checkboxCol.HeaderCell = ch;</span><br><span class="line">            checkboxCol.HeaderCell.Value = <span class="built_in">string</span>.Empty; <span class="comment">//消除列头checkbox旁出现的文字</span></span><br><span class="line">            <span class="keyword">this</span>.dgvSelectAll.Columns.Insert(<span class="number">0</span>, checkboxCol);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">ch_OnCheckBoxClicked</span>(<span class="params"><span class="built_in">object</span> sender, DataGridViewCheckBoxHeaderEventArgs e</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="keyword">foreach</span> (DataGridViewRow dgvRow <span class="keyword">in</span> <span class="keyword">this</span>.dgvSelectAll.Rows)</span><br><span class="line">            &#123;</span><br><span class="line">                dgvRow.Cells[<span class="number">0</span>].Value = e.CheckedState;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">this</span>.dgvSelectAll.RefreshEdit();</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><h1 id="formatted值的类型错误-System-FormatException-异常"><a href="#formatted值的类型错误-System-FormatException-异常" class="headerlink" title="formatted值的类型错误 System.FormatException 异常"></a>formatted值的类型错误 System.FormatException 异常</h1><p>在DataGridView手动添加了CheckBox列;在窗体Show的时候,遇到一个错误:<br>**错误如下: **</p><ul><li>DataGridView中发生一下异常:System.FormatException:单元格的Formatted值的类型错误.要替换此默认对话框,请处理DataError事件.</li></ul><p><strong>点击以后有一对话框错误如下:</strong></p><p>DataGridView中发生一下异常:</p><p>SystemArgumentException:为DataGridViewCheckBoxCell提供的值的类型错误.</p><p>在System.Windows.Forms.DataGridViewCheckBoxCell.set_EditiingCellFormattedValue(Object value)</p><p>在System.Windows.Forms.DataGridView.InitializeEditingCellValue (DataGridViewCessStyle&amp;dataGridViewCellStyle,DataGridViewCell&amp;dataGridViewCell)</p><p>要替换此默认对话框,请处理DataError事件.</p><p>我之前曾经用过CheckBox列，此次和之前的区别是 AllowUserToAddRows&#x3D;true;<br>我将该属性设置为false，错误没有出现，可以确定该错误与系统自动添加的行及checBox的默认值为null有关。</p><p>我在DefaultValuesNeeded事件中增加了默认值，发现错误依旧。</p><p>仔细研究发现如下两种解决方法：</p><p>其一：在CellFormatting事件中处理</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.dataGridView1.Columns[e.ColumnIndex].Name == <span class="string">&quot;AZK&quot;</span>)               </span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (e.Value == <span class="literal">null</span>)                       </span><br><span class="line">            e.Value = <span class="literal">false</span>;               </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>其二：在在CellFormatting事件中不处理，但DataError事件中处理</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;               </span><br><span class="line">    <span class="keyword">if</span> (dataGridView1.Rows[e.RowIndex].IsNewRow)                   </span><br><span class="line">        <span class="keyword">return</span>;           </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Note: DataGridView中几个事件发生的顺序记录如下，以备查寻<br>在AllowUserToAddRows&#x3D;true时候的事件发生次序</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Form.Show ---&gt; CellFormatting (如果出错，<span class="keyword">goto</span> DataError)，注意这里的NewRow没有触发DefaultValuesNeeded事件。</span><br></pre></td></tr></table></figure><p>如果发生其他比如 RowEnter事件</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">（DefaultValuesNeeded） ---&gt; RowEnter ---&gt; CellClick</span><br><span class="line"></span><br><span class="line">（DefaultValuesNeeded） ---&gt; RowsAdded ---&gt; UserAddedRow</span><br><span class="line"></span><br><span class="line">DefaultValuesNeeded事件不会发生在 IsNewRow=<span class="literal">true</span>的row上</span><br></pre></td></tr></table></figure><hr><h1 id="相关链接（侵删）"><a href="#相关链接（侵删）" class="headerlink" title="相关链接（侵删）"></a>相关链接（侵删）</h1><ol><li><a href="https://www.bbsmax.com/A/MyJxM0ba5n/">DateGridView标题列头添加复选框</a></li><li><a href="http://www.dui580.com/Html/?953.html">C#在dataGridView表格中插入复选框</a></li><li><a href="https://www.cnblogs.com/guanshan/p/guan2021-4-7_001.html">C#DataGridViewCheckBoxColumn用法（刷新操作，否则点击之后可能不能立即勾选）</a></li><li><a href="https://bbs.csdn.net/topics/392482043">如何在DataGridView中的某一个单元格添加CheckBox？</a></li><li><a href="https://www.cnblogs.com/guanshan/p/guan2021-4-9_001.html">C# winform单元格的formatted值的类型错误 DataGridView中CheckBox列运行时候System.FormatException异常</a></li></ol><hr><center><font color="red">=================我是分割线=================</font></center><p><strong>欢迎到公众号来唠嗑:</strong></p><img src="https://pic4.zhimg.com/80/v2-eedc5dc7d30beedf4c2f1812df8e61a7_720w.jpg">]]></content>
    
    
    <summary type="html">C# 对表格控件 DataGridView 中添加复选框,DataGridViewCheckBoxColumn 使用方法</summary>
    
    
    
    <category term="编程类" scheme="https://zml3589110.github.io/categories/%E7%BC%96%E7%A8%8B%E7%B1%BB/"/>
    
    <category term="C#" scheme="https://zml3589110.github.io/categories/%E7%BC%96%E7%A8%8B%E7%B1%BB/C/"/>
    
    <category term="前端" scheme="https://zml3589110.github.io/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
    <category term="C#" scheme="https://zml3589110.github.io/tags/C/"/>
    
    <category term="DataGridView" scheme="https://zml3589110.github.io/tags/DataGridView/"/>
    
    <category term="表格" scheme="https://zml3589110.github.io/tags/%E8%A1%A8%E6%A0%BC/"/>
    
    <category term="复选框" scheme="https://zml3589110.github.io/tags/%E5%A4%8D%E9%80%89%E6%A1%86/"/>
    
    <category term="CheckBox" scheme="https://zml3589110.github.io/tags/CheckBox/"/>
    
    <category term="DataGridViewCheckBoxColumn" scheme="https://zml3589110.github.io/tags/DataGridViewCheckBoxColumn/"/>
    
    <category term="FormatException错误" scheme="https://zml3589110.github.io/tags/FormatException%E9%94%99%E8%AF%AF/"/>
    
  </entry>
  
  <entry>
    <title>C# 动态工具栏实现</title>
    <link href="https://zml3589110.github.io/posts/906356836.html"/>
    <id>https://zml3589110.github.io/posts/906356836.html</id>
    <published>2023-02-17T07:35:20.000Z</published>
    <updated>2023-02-17T08:13:28.659Z</updated>
    
    <content type="html"><![CDATA[<h1 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h1><p>是将MenuStrip中的所有DropDownItems列出来，供用户选择，被选中的项将在ToolStrip被显示出来，并且可以使用与其对应的DropDownItem的事件.</p><p>其工作流程可以分解如下图所示：</p><p>图１．１流程图</p><p>实际上这个图所描述的正是我们上面说的一样，只是换作图形表示而已，但这样一来程序的结构就变得清晰起来了。</p><p>实际上这个图所描述的正是我们上面说的一样，只是换作图形表示而已，但这样一来程序的结构就变得清晰起来了。可以看出，整个问题实际上被分解成了三个部分，即遍历菜单栏所有可用的DropDownItems，提供用户的选择界面，和为工具栏动态添Items及其事件。提供用户的选择界面这部分内容没什么技术含量，可以用任何一种你喜欢的方式实现，没什么好说的。下面我将重点说一下遍历菜单栏所有可用的DropDownItems，和为工具栏动态添Items及其事件这两部分。</p><h2 id="一、-遍历菜单栏所有可用的DropDownItems"><a href="#一、-遍历菜单栏所有可用的DropDownItems" class="headerlink" title="一、  遍历菜单栏所有可用的DropDownItems"></a>一、  遍历菜单栏所有可用的DropDownItems</h2><p>菜单栏的结构实际上是典型的“森林”，而每一个下拉菜单(DropDownItem)都是一棵树。</p><p>面对这种问题最好的解决方式就是递归。很多人提到递归就头大，其实对于了解递归的人来说递归很简单。尤其是树的遍历就更加的简单了，它有固有的模式，一般先对结束条件进行判断，然后递归遍历各个子树，就这么简单。</p><p><strong>对于本题DropDownItem的函数可以这样来写：</strong></p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> ToolStripMenuItem <span class="title">Items</span>(<span class="params">ToolStripMenuItem tsItem</span>)</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;   <span class="comment">//结束条件判定</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (tsItem.DropDownItems.Count &lt;= <span class="number">0</span>) <span class="keyword">return</span> tsItem;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line"></span><br><span class="line">    &#123;   <span class="comment">//遍历各子树</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">foreach</span> (ToolStripMenuItem mItem <span class="keyword">in</span> tsItem.DropDownItems)</span><br><span class="line"></span><br><span class="line">        &#123;   <span class="comment">//递归遍历mItem子树</span></span><br><span class="line"></span><br><span class="line">            Items(mItem);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>** 代码说明：**</p><ul><li>函数首先判断节点(就是一个DropDownItem)是否含有子节点，如果它不含有子节点就return它(这就是结束条件判断)。</li></ul><blockquote><p>我们这样做完全是因为我们菜单使用习惯(所有的菜单功能都是在叶子节点实现功能的)，当然我们也可以将非叶子节点也return回去。但是最好不要这么干，因为它会令我们产生很多困扰(不信邪的朋友可以试试)。下一步再分别遍历该节点的每一个子树</p></blockquote><ul><li>上面是遍历某个DropDownItem和它的子节点，下面遍历整个菜单栏：</li></ul><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">…… </span><br><span class="line"></span><br><span class="line">                <span class="comment">//这是遍历菜单栏，可以放在任何你需要的地方，</span></span><br><span class="line"></span><br><span class="line">                <span class="comment">//注: menuStrip1是我菜单栏的名字</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">foreach</span> (ToolStripMenuItem mItem <span class="keyword">in</span> <span class="keyword">this</span>.menuStrip1.Items)</span><br><span class="line"></span><br><span class="line">                &#123;   <span class="comment">//递归遍历各个DropDownItem</span></span><br><span class="line"></span><br><span class="line">                    Items(mItem);</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">……</span><br></pre></td></tr></table></figure><blockquote><p>上面就是遍历菜单的全部代码。这当然还没完，我们需要将遍历菜单得到的各个菜单项存入容器，以备下面的程序使用。</p></blockquote><p><strong>什么容器都可以，而我选择了List&lt;&gt;。要实现这个功能：</strong></p><ul><li>1.首先，我们需要增加一个容器 lMenuItems</li></ul><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">……</span><br><span class="line"></span><br><span class="line"><span class="comment">//增加一个全局变量，它是一个容器</span></span><br><span class="line"></span><br><span class="line">List&lt;ToolStripMenuItem&gt; lMenuItems;</span><br><span class="line"></span><br><span class="line">……</span><br></pre></td></tr></table></figure><ul><li>2.然后，在遍历菜单栏程序段中添加代码</li></ul><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//这是遍历菜单栏，可以放在任何你需要的地方，</span></span><br><span class="line"></span><br><span class="line">                <span class="comment">//menuStrip1是我菜单栏的名字</span></span><br><span class="line"></span><br><span class="line">                lMenuItems = <span class="keyword">new</span> List&lt;ToolStripMenuItem&gt;();</span><br><span class="line"></span><br><span class="line">                <span class="keyword">foreach</span> (ToolStripMenuItem mItem <span class="keyword">in</span> <span class="keyword">this</span>.menuStrip1.Items)</span><br><span class="line"></span><br><span class="line">                &#123;   <span class="comment">//递归遍历各个DropDownItem</span></span><br><span class="line"></span><br><span class="line">                    Items(mItem);</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">……</span><br></pre></td></tr></table></figure><ul><li>3.将DropDownItem的递归遍历函数修改成下面这个样子</li></ul><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> ToolStripMenuItem <span class="title">Items</span>(<span class="params">ToolStripMenuItem tsItem</span>)</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>        &#123;   <span class="comment">//结束条件判定</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (tsItem.DropDownItems.Count &lt;= <span class="number">0</span>) <span class="keyword">return</span> tsItem;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line"></span><br><span class="line">            &#123;   <span class="comment">//遍历各子树</span></span><br><span class="line"></span><br><span class="line">                ToolStripMenuItem <span class="keyword">value</span> = <span class="literal">null</span>;<span class="comment">//临时变量</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">foreach</span> (ToolStripMenuItem mItem <span class="keyword">in</span> tsItem.DropDownItems)</span><br><span class="line"></span><br><span class="line">                &#123;   <span class="comment">//递归遍历mItem子树</span></span><br><span class="line"></span><br><span class="line">                    <span class="keyword">value</span> = Items(mItem);</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> (<span class="keyword">value</span> != <span class="literal">null</span> &amp;&amp; lMenuItems != <span class="literal">null</span>)</span><br><span class="line"></span><br><span class="line">                            lMenuItems.Add(<span class="keyword">value</span>);</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><p><strong>好，初战告捷。跳过如何提供用户的选择界面部分不提，直接进入重点。</strong></p><h2 id="为工具栏动态添Items及其事件"><a href="#为工具栏动态添Items及其事件" class="headerlink" title="为工具栏动态添Items及其事件"></a>为工具栏动态添Items及其事件</h2><p>给工具栏动态添加Items其实是一件非常简单的事，就像有些人说的new一个，再Add()进去就搞定了。</p><p>关键的问题不在这里，如何使各个工具栏的Item的事件可以与DropDownItem的事件一一对应才是问题的关键。</p><p>各个DropDownItem都可以拥有自己的事件，各个事件的名称不同，而且事件是不能直接拿事件赋值的，如果无法实现事件的动态赋值，菜单栏动态添加也就没戏了。如果没有好多解决方法，程序开发到这里只能是僵局。</p><p><strong>关于事件的调整</strong></p><ul><li>1.首先事件是可以调用事件的，并且几个控件可以共用一个事件。这就为问题的解决提供了可能性。<br>让所有的可用菜单项都使用一个事件，或者说让这个事件统领其他的菜单事件。<br>我们新建一个事件，并将这个事件命名为Menu_Click，它来统领整个Menu的所有Click事件：</li></ul><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Menu_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>       &#123; …… &#125;</span><br></pre></td></tr></table></figure><ul><li>2.第二步，将原来所有DropDownItems的事件(菜单项事件)都替换成Menu_Click。</li></ul><p><strong>小知识： 事件参数中的sender事实上就是发出事件的控件(或源)，但因为它的类型是object，所有在使用前要对其进行强制类型转换。</strong></p><p>比如：有一个sender的实际类型是ToolStripItem，我需要获得sender的Name属性值就需要：</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> sender_Name = ((ToolStripItem)sender).Name;</span><br></pre></td></tr></table></figure><p><strong>应用上面特点，在事件处理函数Menu_Click中就不难使用switch或者if&#x2F;else来区分事件的来源，并分别调用他们自己的事件处理函数了。</strong></p><h2 id="3-动态添加"><a href="#3-动态添加" class="headerlink" title="3.动态添加"></a>3.动态添加</h2><p><strong>解决了事件的问题，工具栏的动态添加实际上就是一句话的事</strong></p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">toolStrip1.Items.Add(<span class="keyword">new</span> ToolStripButton(</span><br><span class="line"></span><br><span class="line">                                     &lt;某DropDownItem&gt;.Text, <span class="comment">//DropDownItem显示的文字</span></span><br><span class="line"></span><br><span class="line">                                     &lt;某DropDownItem&gt;.Image, <span class="comment">//DropDownItem图标</span></span><br><span class="line"></span><br><span class="line">                                     <span class="keyword">new</span> System.EventHandler(Menu_Click), <span class="comment">//DropDownItem事件</span></span><br><span class="line"></span><br><span class="line">                                     &lt;某DropDownItem&gt;.Name <span class="comment">//DropDownItem名称</span></span><br><span class="line"></span><br><span class="line">));</span><br></pre></td></tr></table></figure><h1 id="简单实例："><a href="#简单实例：" class="headerlink" title="简单实例："></a>简单实例：</h1><p><strong>(请将代码粘贴到你新建项目中对应得位置)</strong></p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br><span class="line">797</span><br><span class="line">798</span><br><span class="line">799</span><br><span class="line">800</span><br><span class="line">801</span><br><span class="line">802</span><br><span class="line">803</span><br><span class="line">804</span><br><span class="line">805</span><br><span class="line">806</span><br><span class="line">807</span><br><span class="line">808</span><br><span class="line">809</span><br><span class="line">810</span><br><span class="line">811</span><br><span class="line">812</span><br><span class="line">813</span><br><span class="line">814</span><br><span class="line">815</span><br><span class="line">816</span><br><span class="line">817</span><br><span class="line">818</span><br><span class="line">819</span><br><span class="line">820</span><br><span class="line">821</span><br><span class="line">822</span><br><span class="line">823</span><br><span class="line">824</span><br><span class="line">825</span><br><span class="line">826</span><br><span class="line">827</span><br><span class="line">828</span><br><span class="line">829</span><br><span class="line">830</span><br><span class="line">831</span><br><span class="line">832</span><br><span class="line">833</span><br><span class="line">834</span><br><span class="line">835</span><br><span class="line">836</span><br><span class="line">837</span><br><span class="line">838</span><br><span class="line">839</span><br><span class="line">840</span><br><span class="line">841</span><br><span class="line">842</span><br><span class="line">843</span><br><span class="line">844</span><br><span class="line">845</span><br><span class="line">846</span><br><span class="line">847</span><br><span class="line">848</span><br><span class="line">849</span><br><span class="line">850</span><br><span class="line">851</span><br><span class="line">852</span><br><span class="line">853</span><br><span class="line">854</span><br><span class="line">855</span><br><span class="line">856</span><br><span class="line">857</span><br><span class="line">858</span><br><span class="line">859</span><br><span class="line">860</span><br><span class="line">861</span><br><span class="line">862</span><br><span class="line">863</span><br><span class="line">864</span><br><span class="line">865</span><br><span class="line">866</span><br><span class="line">867</span><br><span class="line">868</span><br><span class="line">869</span><br><span class="line">870</span><br><span class="line">871</span><br><span class="line">872</span><br><span class="line">873</span><br><span class="line">874</span><br><span class="line">875</span><br><span class="line">876</span><br><span class="line">877</span><br><span class="line">878</span><br><span class="line">879</span><br><span class="line">880</span><br><span class="line">881</span><br><span class="line">882</span><br><span class="line">883</span><br><span class="line">884</span><br><span class="line">885</span><br><span class="line">886</span><br><span class="line">887</span><br><span class="line">888</span><br><span class="line">889</span><br><span class="line">890</span><br><span class="line">891</span><br><span class="line">892</span><br><span class="line">893</span><br><span class="line">894</span><br><span class="line">895</span><br><span class="line">896</span><br><span class="line">897</span><br><span class="line">898</span><br><span class="line">899</span><br><span class="line">900</span><br><span class="line">901</span><br><span class="line">902</span><br><span class="line">903</span><br><span class="line">904</span><br><span class="line">905</span><br><span class="line">906</span><br><span class="line">907</span><br><span class="line">908</span><br><span class="line">909</span><br><span class="line">910</span><br><span class="line">911</span><br><span class="line">912</span><br><span class="line">913</span><br><span class="line">914</span><br><span class="line">915</span><br><span class="line">916</span><br><span class="line">917</span><br><span class="line">918</span><br><span class="line">919</span><br><span class="line">920</span><br><span class="line">921</span><br><span class="line">922</span><br><span class="line">923</span><br><span class="line">924</span><br><span class="line">925</span><br><span class="line">926</span><br><span class="line">927</span><br><span class="line">928</span><br><span class="line">929</span><br><span class="line">930</span><br><span class="line">931</span><br><span class="line">932</span><br><span class="line">933</span><br><span class="line">934</span><br><span class="line">935</span><br><span class="line">936</span><br><span class="line">937</span><br><span class="line">938</span><br><span class="line">939</span><br><span class="line">940</span><br><span class="line">941</span><br><span class="line">942</span><br><span class="line">943</span><br><span class="line">944</span><br><span class="line">945</span><br><span class="line">946</span><br><span class="line">947</span><br><span class="line">948</span><br><span class="line">949</span><br><span class="line">950</span><br><span class="line">951</span><br><span class="line">952</span><br><span class="line">953</span><br><span class="line">954</span><br><span class="line">955</span><br><span class="line">956</span><br><span class="line">957</span><br><span class="line">958</span><br><span class="line">959</span><br><span class="line">960</span><br><span class="line">961</span><br><span class="line">962</span><br><span class="line">963</span><br><span class="line">964</span><br><span class="line">965</span><br><span class="line">966</span><br><span class="line">967</span><br><span class="line">968</span><br><span class="line">969</span><br><span class="line">970</span><br><span class="line">971</span><br><span class="line">972</span><br><span class="line">973</span><br><span class="line">974</span><br><span class="line">975</span><br><span class="line">976</span><br><span class="line">977</span><br><span class="line">978</span><br><span class="line">979</span><br><span class="line">980</span><br><span class="line">981</span><br><span class="line">982</span><br><span class="line">983</span><br><span class="line">984</span><br><span class="line">985</span><br><span class="line">986</span><br><span class="line">987</span><br><span class="line">988</span><br><span class="line">989</span><br><span class="line">990</span><br><span class="line">991</span><br><span class="line">992</span><br><span class="line">993</span><br><span class="line">994</span><br><span class="line">995</span><br><span class="line">996</span><br><span class="line">997</span><br><span class="line">998</span><br><span class="line">999</span><br><span class="line">1000</span><br><span class="line">1001</span><br><span class="line">1002</span><br><span class="line">1003</span><br><span class="line">1004</span><br><span class="line">1005</span><br><span class="line">1006</span><br><span class="line">1007</span><br><span class="line">1008</span><br><span class="line">1009</span><br><span class="line">1010</span><br><span class="line">1011</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*******************/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*Form1.Designer.cs*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*******************/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">dynamicToolbar</span></span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">partial</span> <span class="keyword">class</span> <span class="title">Form1</span></span><br><span class="line"></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> Required designer variable.</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> System.ComponentModel.IContainer components = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> Clean up any resources being used.</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;disposing&quot;&gt;</span>true if managed resources should be disposed; otherwise, false.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">protected</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Dispose</span>(<span class="params"><span class="built_in">bool</span> disposing</span>)</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (disposing &amp;&amp; (components != <span class="literal">null</span>))</span><br><span class="line"></span><br><span class="line">            &#123;</span><br><span class="line"></span><br><span class="line">                components.Dispose();</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">base</span>.Dispose(disposing);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">        <span class="meta">#<span class="meta-keyword">region</span> Windows Form Designer generated code</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> Required method for Designer support - do not modify</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> the contents of this method with the code editor.</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">InitializeComponent</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.menuStrip1 = <span class="keyword">new</span> System.Windows.Forms.MenuStrip();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.first = <span class="keyword">new</span> System.Windows.Forms.ToolStripMenuItem();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.f1 = <span class="keyword">new</span> System.Windows.Forms.ToolStripMenuItem();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.f11 = <span class="keyword">new</span> System.Windows.Forms.ToolStripMenuItem();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.f12 = <span class="keyword">new</span> System.Windows.Forms.ToolStripMenuItem();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.f2 = <span class="keyword">new</span> System.Windows.Forms.ToolStripMenuItem();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.f3 = <span class="keyword">new</span> System.Windows.Forms.ToolStripMenuItem();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.f31 = <span class="keyword">new</span> System.Windows.Forms.ToolStripMenuItem();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.secondToolStripMenuItem = <span class="keyword">new</span> System.Windows.Forms.ToolStripMenuItem();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.s1ToolStripMenuItem = <span class="keyword">new</span> System.Windows.Forms.ToolStripMenuItem();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.s2ToolStripMenuItem = <span class="keyword">new</span> System.Windows.Forms.ToolStripMenuItem();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.s3ToolStripMenuItem = <span class="keyword">new</span> System.Windows.Forms.ToolStripMenuItem();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.s31ToolStripMenuItem = <span class="keyword">new</span> System.Windows.Forms.ToolStripMenuItem();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.s311ToolStripMenuItem = <span class="keyword">new</span> System.Windows.Forms.ToolStripMenuItem();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.s32ToolStripMenuItem = <span class="keyword">new</span> System.Windows.Forms.ToolStripMenuItem();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.thirdToolStripMenuItem = <span class="keyword">new</span> System.Windows.Forms.ToolStripMenuItem();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.t1ToolStripMenuItem = <span class="keyword">new</span> System.Windows.Forms.ToolStripMenuItem();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.t2ToolStripMenuItem = <span class="keyword">new</span> System.Windows.Forms.ToolStripMenuItem();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.<span class="keyword">set</span> = <span class="keyword">new</span> System.Windows.Forms.Button();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.toolStrip1 = <span class="keyword">new</span> System.Windows.Forms.ToolStrip();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.menuStrip1.SuspendLayout();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.SuspendLayout();</span><br><span class="line"></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// menuStrip1</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.menuStrip1.Items.AddRange(<span class="keyword">new</span> System.Windows.Forms.ToolStripItem[] &#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.first,</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.secondToolStripMenuItem,</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.thirdToolStripMenuItem&#125;);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.menuStrip1.Location = <span class="keyword">new</span> System.Drawing.Point(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.menuStrip1.Name = <span class="string">&quot;menuStrip1&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.menuStrip1.Size = <span class="keyword">new</span> System.Drawing.Size(<span class="number">292</span>, <span class="number">24</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.menuStrip1.TabIndex = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.menuStrip1.Text = <span class="string">&quot;menuStrip1&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// first</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.first.DropDownItems.AddRange(<span class="keyword">new</span> System.Windows.Forms.ToolStripItem[] &#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.f1,</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.f2,</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.f3&#125;);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.first.Name = <span class="string">&quot;first&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.first.Size = <span class="keyword">new</span> System.Drawing.Size(<span class="number">47</span>, <span class="number">20</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.first.Text = <span class="string">&quot;first&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.first.Click += <span class="keyword">new</span> System.EventHandler(<span class="keyword">this</span>.Menu_Click);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// f1</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.f1.DropDownItems.AddRange(<span class="keyword">new</span> System.Windows.Forms.ToolStripItem[] &#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.f11,</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.f12&#125;);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.f1.Name = <span class="string">&quot;f1&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.f1.Size = <span class="keyword">new</span> System.Drawing.Size(<span class="number">82</span>, <span class="number">22</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.f1.Text = <span class="string">&quot;f1&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// f11</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.f11.Name = <span class="string">&quot;f11&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.f11.Size = <span class="keyword">new</span> System.Drawing.Size(<span class="number">88</span>, <span class="number">22</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.f11.Text = <span class="string">&quot;f11&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.f11.Click += <span class="keyword">new</span> System.EventHandler(<span class="keyword">this</span>.Menu_Click);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// f12</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.f12.Name = <span class="string">&quot;f12&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.f12.Size = <span class="keyword">new</span> System.Drawing.Size(<span class="number">88</span>, <span class="number">22</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.f12.Text = <span class="string">&quot;f12&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.f12.Click += <span class="keyword">new</span> System.EventHandler(<span class="keyword">this</span>.Menu_Click);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// f2</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.f2.Name = <span class="string">&quot;f2&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.f2.Size = <span class="keyword">new</span> System.Drawing.Size(<span class="number">82</span>, <span class="number">22</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.f2.Text = <span class="string">&quot;f2&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.f2.Click += <span class="keyword">new</span> System.EventHandler(<span class="keyword">this</span>.Menu_Click);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// f3</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.f3.DropDownItems.AddRange(<span class="keyword">new</span> System.Windows.Forms.ToolStripItem[] &#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.f31&#125;);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.f3.Name = <span class="string">&quot;f3&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.f3.Size = <span class="keyword">new</span> System.Drawing.Size(<span class="number">82</span>, <span class="number">22</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.f3.Text = <span class="string">&quot;f3&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// f31</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.f31.Name = <span class="string">&quot;f31&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.f31.Size = <span class="keyword">new</span> System.Drawing.Size(<span class="number">88</span>, <span class="number">22</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.f31.Text = <span class="string">&quot;f31&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.f31.Click += <span class="keyword">new</span> System.EventHandler(<span class="keyword">this</span>.Menu_Click);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// secondToolStripMenuItem</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.secondToolStripMenuItem.DropDownItems.AddRange(<span class="keyword">new</span> System.Windows.Forms.ToolStripItem[] &#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.s1ToolStripMenuItem,</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.s2ToolStripMenuItem,</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.s3ToolStripMenuItem&#125;);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.secondToolStripMenuItem.Name = <span class="string">&quot;secondToolStripMenuItem&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.secondToolStripMenuItem.Size = <span class="keyword">new</span> System.Drawing.Size(<span class="number">53</span>, <span class="number">20</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.secondToolStripMenuItem.Text = <span class="string">&quot;second&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// s1ToolStripMenuItem</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.s1ToolStripMenuItem.Name = <span class="string">&quot;s1ToolStripMenuItem&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.s1ToolStripMenuItem.Size = <span class="keyword">new</span> System.Drawing.Size(<span class="number">82</span>, <span class="number">22</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.s1ToolStripMenuItem.Text = <span class="string">&quot;s1&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.s1ToolStripMenuItem.Click += <span class="keyword">new</span> System.EventHandler(<span class="keyword">this</span>.Menu_Click);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// s2ToolStripMenuItem</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.s2ToolStripMenuItem.Name = <span class="string">&quot;s2ToolStripMenuItem&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.s2ToolStripMenuItem.Size = <span class="keyword">new</span> System.Drawing.Size(<span class="number">82</span>, <span class="number">22</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.s2ToolStripMenuItem.Text = <span class="string">&quot;s2&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.s2ToolStripMenuItem.Click += <span class="keyword">new</span> System.EventHandler(<span class="keyword">this</span>.Menu_Click);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// s3ToolStripMenuItem</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.s3ToolStripMenuItem.DropDownItems.AddRange(<span class="keyword">new</span> System.Windows.Forms.ToolStripItem[] &#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.s31ToolStripMenuItem,</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.s32ToolStripMenuItem&#125;);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.s3ToolStripMenuItem.Name = <span class="string">&quot;s3ToolStripMenuItem&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.s3ToolStripMenuItem.Size = <span class="keyword">new</span> System.Drawing.Size(<span class="number">82</span>, <span class="number">22</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.s3ToolStripMenuItem.Text = <span class="string">&quot;s3&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// s31ToolStripMenuItem</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.s31ToolStripMenuItem.DropDownItems.AddRange(<span class="keyword">new</span> System.Windows.Forms.ToolStripItem[] &#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.s311ToolStripMenuItem&#125;);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.s31ToolStripMenuItem.Name = <span class="string">&quot;s31ToolStripMenuItem&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.s31ToolStripMenuItem.Size = <span class="keyword">new</span> System.Drawing.Size(<span class="number">88</span>, <span class="number">22</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.s31ToolStripMenuItem.Text = <span class="string">&quot;s31&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// s311ToolStripMenuItem</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.s311ToolStripMenuItem.Name = <span class="string">&quot;s311ToolStripMenuItem&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.s311ToolStripMenuItem.Size = <span class="keyword">new</span> System.Drawing.Size(<span class="number">94</span>, <span class="number">22</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.s311ToolStripMenuItem.Text = <span class="string">&quot;s311&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.s311ToolStripMenuItem.Click += <span class="keyword">new</span> System.EventHandler(<span class="keyword">this</span>.Menu_Click);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// s32ToolStripMenuItem</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.s32ToolStripMenuItem.Name = <span class="string">&quot;s32ToolStripMenuItem&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.s32ToolStripMenuItem.Size = <span class="keyword">new</span> System.Drawing.Size(<span class="number">88</span>, <span class="number">22</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.s32ToolStripMenuItem.Text = <span class="string">&quot;s32&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.s32ToolStripMenuItem.Click += <span class="keyword">new</span> System.EventHandler(<span class="keyword">this</span>.Menu_Click);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// thirdToolStripMenuItem</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.thirdToolStripMenuItem.DropDownItems.AddRange(<span class="keyword">new</span> System.Windows.Forms.ToolStripItem[] &#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.t1ToolStripMenuItem,</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.t2ToolStripMenuItem&#125;);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.thirdToolStripMenuItem.Name = <span class="string">&quot;thirdToolStripMenuItem&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.thirdToolStripMenuItem.Size = <span class="keyword">new</span> System.Drawing.Size(<span class="number">47</span>, <span class="number">20</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.thirdToolStripMenuItem.Text = <span class="string">&quot;third&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// t1ToolStripMenuItem</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.t1ToolStripMenuItem.Name = <span class="string">&quot;t1ToolStripMenuItem&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.t1ToolStripMenuItem.Size = <span class="keyword">new</span> System.Drawing.Size(<span class="number">82</span>, <span class="number">22</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.t1ToolStripMenuItem.Text = <span class="string">&quot;t1&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.t1ToolStripMenuItem.Click += <span class="keyword">new</span> System.EventHandler(<span class="keyword">this</span>.Menu_Click);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// t2ToolStripMenuItem</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.t2ToolStripMenuItem.Name = <span class="string">&quot;t2ToolStripMenuItem&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.t2ToolStripMenuItem.Size = <span class="keyword">new</span> System.Drawing.Size(<span class="number">82</span>, <span class="number">22</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.t2ToolStripMenuItem.Text = <span class="string">&quot;t2&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.t2ToolStripMenuItem.Click += <span class="keyword">new</span> System.EventHandler(<span class="keyword">this</span>.Menu_Click);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// set</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.<span class="keyword">set</span>.Location = <span class="keyword">new</span> System.Drawing.Point(<span class="number">106</span>, <span class="number">185</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.<span class="keyword">set</span>.Name = <span class="string">&quot;set&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.<span class="keyword">set</span>.Size = <span class="keyword">new</span> System.Drawing.Size(<span class="number">75</span>, <span class="number">23</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.<span class="keyword">set</span>.TabIndex = <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.<span class="keyword">set</span>.Text = <span class="string">&quot;set-&gt;Add&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.<span class="keyword">set</span>.UseVisualStyleBackColor = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.<span class="keyword">set</span>.Click += <span class="keyword">new</span> System.EventHandler(<span class="keyword">this</span>.btnSet_Click);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// toolStrip1</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.toolStrip1.Location = <span class="keyword">new</span> System.Drawing.Point(<span class="number">0</span>, <span class="number">24</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.toolStrip1.Name = <span class="string">&quot;toolStrip2&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.toolStrip1.Size = <span class="keyword">new</span> System.Drawing.Size(<span class="number">292</span>, <span class="number">25</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.toolStrip1.TabIndex = <span class="number">4</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.toolStrip1.Text = <span class="string">&quot;toolStrip2&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// Form1</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.AutoScaleDimensions = <span class="keyword">new</span> System.Drawing.SizeF( <span class="number">6F</span> , <span class="number">12F</span> );</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.AutoScaleMode = System.Windows.Forms.AutoScaleMode.Font;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.ClientSize = <span class="keyword">new</span> System.Drawing.Size(<span class="number">292</span>, <span class="number">266</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.Controls.Add(<span class="keyword">this</span>.toolStrip1);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.Controls.Add(<span class="keyword">this</span>.<span class="keyword">set</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.Controls.Add(<span class="keyword">this</span>.menuStrip1);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.Name = <span class="string">&quot;Form1&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.Text = <span class="string">&quot;Form1&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.Load += <span class="keyword">new</span> System.EventHandler(<span class="keyword">this</span>.Form1_Load);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.menuStrip1.ResumeLayout(<span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.menuStrip1.PerformLayout();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.ResumeLayout(<span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.PerformLayout();</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">#<span class="meta-keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> System.Windows.Forms.ToolStripMenuItem first;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> System.Windows.Forms.ToolStripMenuItem f1;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> System.Windows.Forms.ToolStripMenuItem f11;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> System.Windows.Forms.ToolStripMenuItem f12;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> System.Windows.Forms.ToolStripMenuItem f2;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> System.Windows.Forms.ToolStripMenuItem f3;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> System.Windows.Forms.ToolStripMenuItem f31;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> System.Windows.Forms.ToolStripMenuItem secondToolStripMenuItem;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> System.Windows.Forms.ToolStripMenuItem s1ToolStripMenuItem;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> System.Windows.Forms.ToolStripMenuItem s2ToolStripMenuItem;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> System.Windows.Forms.ToolStripMenuItem s3ToolStripMenuItem;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> System.Windows.Forms.ToolStripMenuItem s31ToolStripMenuItem;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> System.Windows.Forms.ToolStripMenuItem s311ToolStripMenuItem;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> System.Windows.Forms.ToolStripMenuItem s32ToolStripMenuItem;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> System.Windows.Forms.ToolStripMenuItem thirdToolStripMenuItem;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> System.Windows.Forms.ToolStripMenuItem t1ToolStripMenuItem;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> System.Windows.Forms.ToolStripMenuItem t2ToolStripMenuItem;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> System.Windows.Forms.MenuStrip menuStrip1;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> System.Windows.Forms.ToolStrip toolStrip1;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> System.Windows.Forms.Button <span class="keyword">set</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*******************/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*     Form1.cs    */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*******************/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> System.ComponentModel;</span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> System.Data;</span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> System.Drawing;</span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> System.Text;</span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> System.Windows.Forms;</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">dynamicToolbar</span></span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">partial</span> <span class="keyword">class</span> <span class="title">Form1</span> : <span class="title">Form</span></span><br><span class="line"></span><br><span class="line">    &#123;   <span class="comment">//容器</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> List&lt;ToolStripMenuItem&gt; lMenuItems;</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Form1</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line"></span><br><span class="line">            InitializeComponent();</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Form1_Load</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>        &#123;   <span class="comment">//加载菜单项到容器</span></span><br><span class="line"></span><br><span class="line">            lMenuItems = <span class="keyword">new</span> List&lt;ToolStripMenuItem&gt;();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">foreach</span> (ToolStripMenuItem mItem <span class="keyword">in</span> <span class="keyword">this</span>.menuStrip1.Items)</span><br><span class="line"></span><br><span class="line">            &#123;</span><br><span class="line"></span><br><span class="line">                Items(mItem);</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">        <span class="meta">#<span class="meta-keyword">region</span> 菜单事件</span></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Menu_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line"></span><br><span class="line">            <span class="built_in">string</span> itemName = ((ToolStripItem)sender).Name;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">switch</span> (itemName[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line">            &#123;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">case</span> <span class="string">&#x27;f&#x27;</span>: first_Click(sender, e); <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">case</span> <span class="string">&#x27;s&#x27;</span>: second_Click(sender, e); <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">case</span> <span class="string">&#x27;t&#x27;</span>: third_Click(sender, e); <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">third_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line"></span><br><span class="line">            MessageBox.Show(<span class="string">&quot;这是菜单“Third”的事件处理函数&quot;</span>);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">second_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line"></span><br><span class="line">            MessageBox.Show(<span class="string">&quot;这是菜单“Second”的事件处理函数&quot;</span>);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">first_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line"></span><br><span class="line">            <span class="built_in">string</span> itemName = ((ToolStripItem)sender).Name;</span><br><span class="line"></span><br><span class="line">            <span class="built_in">string</span> showString = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">switch</span> (itemName)</span><br><span class="line"></span><br><span class="line">            &#123;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;f11&quot;</span>: showString = <span class="string">&quot;菜单项“&quot;</span> + <span class="keyword">this</span>.f11.Name + <span class="string">&quot;”被按下了&quot;</span>; <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;f12&quot;</span>: showString =  <span class="string">&quot;菜单项“&quot;</span> + <span class="keyword">this</span>.f12.Name + <span class="string">&quot;”被按下了&quot;</span>; <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;f2&quot;</span>: showString = <span class="string">&quot;菜单项“&quot;</span> + <span class="keyword">this</span>.f2.Name + <span class="string">&quot;”被按下了&quot;</span>; <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;f31&quot;</span>: showString = <span class="string">&quot;菜单项“&quot;</span> + <span class="keyword">this</span>.f31.Name + <span class="string">&quot;”被按下了&quot;</span>; <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">                <span class="literal">default</span>: <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (showString != <span class="literal">null</span>)</span><br><span class="line"></span><br><span class="line">                MessageBox.Show(showString);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">#<span class="meta-keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">        <span class="comment">//递归遍历DropDownItem函数</span></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> ToolStripMenuItem <span class="title">Items</span>(<span class="params">ToolStripMenuItem tsItem</span>)</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>        &#123;   <span class="comment">//结束条件判定</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (tsItem.DropDownItems.Count &lt;= <span class="number">0</span>) <span class="keyword">return</span> tsItem;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line"></span><br><span class="line">            &#123;   <span class="comment">//遍历各子树</span></span><br><span class="line"></span><br><span class="line">                ToolStripMenuItem <span class="keyword">value</span> = <span class="literal">null</span>;<span class="comment">//临时变量</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">foreach</span> (ToolStripMenuItem mItem <span class="keyword">in</span> tsItem.DropDownItems)</span><br><span class="line"></span><br><span class="line">                &#123;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">value</span> = Items(mItem);<span class="comment">//递归遍历mItem子树</span></span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> (<span class="keyword">value</span> != <span class="literal">null</span> &amp;&amp; lMenuItems != <span class="literal">null</span>)</span><br><span class="line"></span><br><span class="line">                        lMenuItems.Add(<span class="keyword">value</span>);</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">        &#125;<span class="comment">//递归遍历DropDownItem函数&lt;END&gt;</span></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">        <span class="comment">//动态设置工具栏函数</span></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">btnSet_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line"></span><br><span class="line">            seting fset = <span class="keyword">new</span> seting();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">foreach</span> (ToolStripMenuItem mitem <span class="keyword">in</span> lMenuItems)</span><br><span class="line"></span><br><span class="line">            &#123;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (mitem.Name != <span class="keyword">new</span> ToolStripSeparator().Name)</span><br><span class="line"></span><br><span class="line">                    fset.listBox1.Items.Add(mitem.Name);</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (fset.ShowDialog() == DialogResult.OK)</span><br><span class="line"></span><br><span class="line">            &#123;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">foreach</span> (<span class="built_in">string</span> mn <span class="keyword">in</span> fset.listBox1.SelectedItems)</span><br><span class="line"></span><br><span class="line">                &#123;   <span class="comment">//如果toolStrip1还没有加载，加载之</span></span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> (toolStrip1 == <span class="literal">null</span>)</span><br><span class="line"></span><br><span class="line">                    &#123;</span><br><span class="line"></span><br><span class="line">                        toolStrip1 = <span class="keyword">new</span> ToolStrip();</span><br><span class="line"></span><br><span class="line">                        toolStrip1.Top = menuStrip1.Bottom + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">                        toolStrip1.Left = menuStrip1.Left;</span><br><span class="line"></span><br><span class="line">                        toolStrip1.Name = <span class="string">&quot;toolStrip1&quot;</span>;</span><br><span class="line"></span><br><span class="line">                        toolStrip1.Size = <span class="keyword">new</span> System.Drawing.Size(<span class="number">292</span>, <span class="number">25</span>);</span><br><span class="line"></span><br><span class="line">                        toolStrip1.TabIndex = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">                        toolStrip1.Text = <span class="string">&quot;toolStrip1&quot;</span>;</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">                        Controls.Add(<span class="keyword">this</span>.toolStrip1);<span class="comment">//将工具栏添加到窗口上</span></span><br><span class="line"></span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="comment">//找到与列表框中对应的DropDownItem，添加之</span></span><br><span class="line"></span><br><span class="line">                    <span class="built_in">int</span> i = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">while</span> (i &lt; lMenuItems.Count &amp;&amp; mn != lMenuItems[i].Name)</span><br><span class="line"></span><br><span class="line">                    &#123; i++; &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> (i &lt; lMenuItems.Count)</span><br><span class="line"></span><br><span class="line">                    &#123;</span><br><span class="line"></span><br><span class="line">                        <span class="comment">//给ToolStrip动态添加</span></span><br><span class="line"></span><br><span class="line">                        toolStrip1.Items.Add(<span class="keyword">new</span> ToolStripButton(</span><br><span class="line"></span><br><span class="line">                                                            lMenuItems[i].Text,</span><br><span class="line"></span><br><span class="line">                                                            lMenuItems[i].Image,</span><br><span class="line"></span><br><span class="line">                                                            <span class="keyword">new</span> System.EventHandler(Menu_Click),</span><br><span class="line"></span><br><span class="line">                                                            lMenuItems[i].Name</span><br><span class="line"></span><br><span class="line">                                                            )</span><br><span class="line"></span><br><span class="line">                                              );</span><br><span class="line"></span><br><span class="line">                        lMenuItems.Remove(lMenuItems[i]);<span class="comment">//把已经添加过的从列表中去除</span></span><br><span class="line"></span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    i = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;<span class="comment">//动态设置工具栏函数&lt;END&gt;</span></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/********************/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*seting.Designer.cs*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/********************/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">dynamicToolbar</span></span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">partial</span> <span class="keyword">class</span> <span class="title">seting</span></span><br><span class="line"></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> Required designer variable.</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> System.ComponentModel.IContainer components = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> Clean up any resources being used.</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;disposing&quot;&gt;</span>true if managed resources should be disposed; otherwise, false.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">protected</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Dispose</span>(<span class="params"><span class="built_in">bool</span> disposing</span>)</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (disposing &amp;&amp; (components != <span class="literal">null</span>))</span><br><span class="line"></span><br><span class="line">            &#123;</span><br><span class="line"></span><br><span class="line">                components.Dispose();</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">base</span>.Dispose(disposing);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">        <span class="meta">#<span class="meta-keyword">region</span> Windows Form Designer generated code</span></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> Required method for Designer support - do not modify</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> the contents of this method with the code editor.</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">InitializeComponent</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.button1 = <span class="keyword">new</span> System.Windows.Forms.Button();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.button2 = <span class="keyword">new</span> System.Windows.Forms.Button();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.listBox1 = <span class="keyword">new</span> System.Windows.Forms.ListBox();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.SuspendLayout();</span><br><span class="line"></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// button1</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.button1.Location = <span class="keyword">new</span> System.Drawing.Point(<span class="number">128</span>, <span class="number">238</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.button1.Name = <span class="string">&quot;button1&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.button1.Size = <span class="keyword">new</span> System.Drawing.Size(<span class="number">75</span>, <span class="number">23</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.button1.TabIndex = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.button1.Text = <span class="string">&quot;add&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.button1.UseVisualStyleBackColor = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.button1.Click += <span class="keyword">new</span> System.EventHandler(<span class="keyword">this</span>.button1_Click);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// button2</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.button2.Location = <span class="keyword">new</span> System.Drawing.Point(<span class="number">209</span>, <span class="number">238</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.button2.Name = <span class="string">&quot;button2&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.button2.Size = <span class="keyword">new</span> System.Drawing.Size(<span class="number">75</span>, <span class="number">23</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.button2.TabIndex = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.button2.Text = <span class="string">&quot;取消&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.button2.UseVisualStyleBackColor = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// listBox1</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.listBox1.FormattingEnabled = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.listBox1.ItemHeight = <span class="number">12</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.listBox1.Location = <span class="keyword">new</span> System.Drawing.Point(<span class="number">12</span>, <span class="number">12</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.listBox1.Name = <span class="string">&quot;listBox1&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.listBox1.SelectionMode = System.Windows.Forms.SelectionMode.MultiSimple;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.listBox1.Size = <span class="keyword">new</span> System.Drawing.Size(<span class="number">268</span>, <span class="number">220</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.listBox1.TabIndex = <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// seting</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.AutoScaleDimensions = <span class="keyword">new</span> System.Drawing.SizeF( <span class="number">6F</span> , <span class="number">12F</span> );</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.AutoScaleMode = System.Windows.Forms.AutoScaleMode.Font;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.ClientSize = <span class="keyword">new</span> System.Drawing.Size(<span class="number">292</span>, <span class="number">266</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.Controls.Add(<span class="keyword">this</span>.listBox1);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.Controls.Add(<span class="keyword">this</span>.button2);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.Controls.Add(<span class="keyword">this</span>.button1);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.Name = <span class="string">&quot;seting&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.Text = <span class="string">&quot;seting&quot;</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.ResumeLayout(<span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">        <span class="meta">#<span class="meta-keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> System.Windows.Forms.Button button1;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> System.Windows.Forms.Button button2;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> System.Windows.Forms.ListBox listBox1;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/********************/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*seting.Designer.cs*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/********************/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> System.ComponentModel;</span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> System.Data;</span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> System.Drawing;</span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> System.Text;</span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> System.Windows.Forms;</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">dynamicToolbar</span></span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">partial</span> <span class="keyword">class</span> <span class="title">seting</span> : <span class="title">Form</span></span><br><span class="line"></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">seting</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line"></span><br><span class="line">            InitializeComponent();</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">button1_Click</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.DialogResult = DialogResult.OK;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.Close();</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h1 id="相关链接（侵删）"><a href="#相关链接（侵删）" class="headerlink" title="相关链接（侵删）"></a>相关链接（侵删）</h1><ol><li><a href="https://blog.csdn.net/fd7893/article/details/1319341">C#趣味小程序(6)——动态工具栏</a></li></ol><hr><center><font color="red">=================我是分割线=================</font></center><p><strong>欢迎到公众号来唠嗑:</strong></p><img src="https://pic4.zhimg.com/80/v2-eedc5dc7d30beedf4c2f1812df8e61a7_720w.jpg">]]></content>
    
    
    <summary type="html">C# 工具栏达到动态效果</summary>
    
    
    
    <category term="编程类" scheme="https://zml3589110.github.io/categories/%E7%BC%96%E7%A8%8B%E7%B1%BB/"/>
    
    <category term="C#" scheme="https://zml3589110.github.io/categories/%E7%BC%96%E7%A8%8B%E7%B1%BB/C/"/>
    
    <category term="前端" scheme="https://zml3589110.github.io/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
    <category term="C#" scheme="https://zml3589110.github.io/tags/C/"/>
    
    <category term="动态" scheme="https://zml3589110.github.io/tags/%E5%8A%A8%E6%80%81/"/>
    
    <category term="工具栏" scheme="https://zml3589110.github.io/tags/%E5%B7%A5%E5%85%B7%E6%A0%8F/"/>
    
  </entry>
  
</feed>
